<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Vectorise.Utils.Base</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Vectorise-Utils-Base.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">ghc-8.2.2: The GHC API</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Vectorise.Utils.Base</p></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:voidType">voidType</a> :: <a href="Vectorise-Monad-Base.html#t:VM">VM</a> <a href="Type.html#t:Type">Type</a></li><li class="src short"><a href="#v:newLocalVVar">newLocalVVar</a> :: <a href="FastString.html#t:FastString">FastString</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> <a href="Vectorise-Vect.html#t:VVar">VVar</a></li><li class="src short"><a href="#v:mkDataConTag">mkDataConTag</a> :: <a href="DynFlags.html#t:DynFlags">DynFlags</a> -&gt; <a href="DataCon.html#t:DataCon">DataCon</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:dataConTagZ">dataConTagZ</a> :: <a href="DataCon.html#t:DataCon">DataCon</a> -&gt; <a href="../base-4.10.1.0/Data-Int.html#t:Int">Int</a></li><li class="src short"><a href="#v:mkWrapType">mkWrapType</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> <a href="Type.html#t:Type">Type</a></li><li class="src short"><a href="#v:mkClosureTypes">mkClosureTypes</a> :: [<a href="Type.html#t:Type">Type</a>] -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> <a href="Type.html#t:Type">Type</a></li><li class="src short"><a href="#v:mkPReprType">mkPReprType</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> <a href="Type.html#t:Type">Type</a></li><li class="src short"><a href="#v:mkPDataType">mkPDataType</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> <a href="Type.html#t:Type">Type</a></li><li class="src short"><a href="#v:mkPDatasType">mkPDatasType</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> <a href="Type.html#t:Type">Type</a></li><li class="src short"><a href="#v:splitPrimTyCon">splitPrimTyCon</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="TyCon.html#t:TyCon">TyCon</a></li><li class="src short"><a href="#v:mkBuiltinCo">mkBuiltinCo</a> :: (<a href="Vectorise-Builtins-Base.html#t:Builtins">Builtins</a> -&gt; <a href="TyCon.html#t:TyCon">TyCon</a>) -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> <a href="Coercion.html#t:Coercion">Coercion</a></li><li class="src short"><a href="#v:wrapNewTypeBodyOfWrap">wrapNewTypeBodyOfWrap</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:unwrapNewTypeBodyOfWrap">unwrapNewTypeBodyOfWrap</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:wrapNewTypeBodyOfPDataWrap">wrapNewTypeBodyOfPDataWrap</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:unwrapNewTypeBodyOfPDataWrap">unwrapNewTypeBodyOfPDataWrap</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:wrapNewTypeBodyOfPDatasWrap">wrapNewTypeBodyOfPDatasWrap</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:unwrapNewTypeBodyOfPDatasWrap">unwrapNewTypeBodyOfPDatasWrap</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:pdataReprTyCon">pdataReprTyCon</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> (<a href="TyCon.html#t:TyCon">TyCon</a>, [<a href="Type.html#t:Type">Type</a>])</li><li class="src short"><a href="#v:pdataReprTyConExact">pdataReprTyConExact</a> :: <a href="TyCon.html#t:TyCon">TyCon</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> <a href="TyCon.html#t:TyCon">TyCon</a></li><li class="src short"><a href="#v:pdatasReprTyConExact">pdatasReprTyConExact</a> :: <a href="TyCon.html#t:TyCon">TyCon</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> <a href="TyCon.html#t:TyCon">TyCon</a></li><li class="src short"><a href="#v:pdataUnwrapScrut">pdataUnwrapScrut</a> :: <a href="Vectorise-Vect.html#t:VExpr">VExpr</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> (<a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>, <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>, <a href="DataCon.html#t:DataCon">DataCon</a>)</li><li class="src short"><a href="#v:preprFamInst">preprFamInst</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> <a href="FamInstEnv.html#t:FamInstMatch">FamInstMatch</a></li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:voidType" class="def">voidType</a> :: <a href="Vectorise-Monad-Base.html#t:VM">VM</a> <a href="Type.html#t:Type">Type</a> <a href="src/Vectorise-Utils-Base.html#voidType" class="link">Source</a> <a href="#v:voidType" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:newLocalVVar" class="def">newLocalVVar</a> :: <a href="FastString.html#t:FastString">FastString</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> <a href="Vectorise-Vect.html#t:VVar">VVar</a> <a href="src/Vectorise-Utils-Base.html#newLocalVVar" class="link">Source</a> <a href="#v:newLocalVVar" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkDataConTag" class="def">mkDataConTag</a> :: <a href="DynFlags.html#t:DynFlags">DynFlags</a> -&gt; <a href="DataCon.html#t:DataCon">DataCon</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/Vectorise-Utils-Base.html#mkDataConTag" class="link">Source</a> <a href="#v:mkDataConTag" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:dataConTagZ" class="def">dataConTagZ</a> :: <a href="DataCon.html#t:DataCon">DataCon</a> -&gt; <a href="../base-4.10.1.0/Data-Int.html#t:Int">Int</a> <a href="src/Vectorise-Utils-Base.html#dataConTagZ" class="link">Source</a> <a href="#v:dataConTagZ" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkWrapType" class="def">mkWrapType</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> <a href="Type.html#t:Type">Type</a> <a href="src/Vectorise-Utils-Base.html#mkWrapType" class="link">Source</a> <a href="#v:mkWrapType" class="selflink">#</a></p><div class="doc"><p>Make an application of the <code>Wrap</code> type constructor.</p></div></div><div class="top"><p class="src"><a id="v:mkClosureTypes" class="def">mkClosureTypes</a> :: [<a href="Type.html#t:Type">Type</a>] -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> <a href="Type.html#t:Type">Type</a> <a href="src/Vectorise-Utils-Base.html#mkClosureTypes" class="link">Source</a> <a href="#v:mkClosureTypes" class="selflink">#</a></p><div class="doc"><p>Make an application of the closure type constructor.</p></div></div><div class="top"><p class="src"><a id="v:mkPReprType" class="def">mkPReprType</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> <a href="Type.html#t:Type">Type</a> <a href="src/Vectorise-Utils-Base.html#mkPReprType" class="link">Source</a> <a href="#v:mkPReprType" class="selflink">#</a></p><div class="doc"><p>Make an application of the <code>PRepr</code> type constructor.</p></div></div><div class="top"><p class="src"><a id="v:mkPDataType" class="def">mkPDataType</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> <a href="Type.html#t:Type">Type</a> <a href="src/Vectorise-Utils-Base.html#mkPDataType" class="link">Source</a> <a href="#v:mkPDataType" class="selflink">#</a></p><div class="doc"><p>Make an application of the <code>PData</code> tycon to some argument.</p></div></div><div class="top"><p class="src"><a id="v:mkPDatasType" class="def">mkPDatasType</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> <a href="Type.html#t:Type">Type</a> <a href="src/Vectorise-Utils-Base.html#mkPDatasType" class="link">Source</a> <a href="#v:mkPDatasType" class="selflink">#</a></p><div class="doc"><p>Make an application of the <code>PDatas</code> tycon to some argument.</p></div></div><div class="top"><p class="src"><a id="v:splitPrimTyCon" class="def">splitPrimTyCon</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="TyCon.html#t:TyCon">TyCon</a> <a href="src/Vectorise-Utils-Base.html#splitPrimTyCon" class="link">Source</a> <a href="#v:splitPrimTyCon" class="selflink">#</a></p><div class="doc"><p>Checks if a type constructor is defined in <code><a href="GHC.html#v:Prim">Prim</a></code> (e.g., 'Int#'); if so, returns it.</p></div></div><div class="top"><p class="src"><a id="v:mkBuiltinCo" class="def">mkBuiltinCo</a> :: (<a href="Vectorise-Builtins-Base.html#t:Builtins">Builtins</a> -&gt; <a href="TyCon.html#t:TyCon">TyCon</a>) -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> <a href="Coercion.html#t:Coercion">Coercion</a> <a href="src/Vectorise-Utils-Base.html#mkBuiltinCo" class="link">Source</a> <a href="#v:mkBuiltinCo" class="selflink">#</a></p><div class="doc"><p>Make a representational coercion to some builtin type.</p></div></div><div class="top"><p class="src"><a id="v:wrapNewTypeBodyOfWrap" class="def">wrapNewTypeBodyOfWrap</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/Vectorise-Utils-Base.html#wrapNewTypeBodyOfWrap" class="link">Source</a> <a href="#v:wrapNewTypeBodyOfWrap" class="selflink">#</a></p><div class="doc"><p>Apply the constructor wrapper of the <code>Wrap</code> <em>newtype</em>.</p></div></div><div class="top"><p class="src"><a id="v:unwrapNewTypeBodyOfWrap" class="def">unwrapNewTypeBodyOfWrap</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/Vectorise-Utils-Base.html#unwrapNewTypeBodyOfWrap" class="link">Source</a> <a href="#v:unwrapNewTypeBodyOfWrap" class="selflink">#</a></p><div class="doc"><p>Strip the constructor wrapper of the <code>Wrap</code> <em>newtype</em>.</p></div></div><div class="top"><p class="src"><a id="v:wrapNewTypeBodyOfPDataWrap" class="def">wrapNewTypeBodyOfPDataWrap</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/Vectorise-Utils-Base.html#wrapNewTypeBodyOfPDataWrap" class="link">Source</a> <a href="#v:wrapNewTypeBodyOfPDataWrap" class="selflink">#</a></p><div class="doc"><p>Apply the constructor wrapper of the <code>PData</code> <em>newtype</em> instance of <code>Wrap</code>.</p></div></div><div class="top"><p class="src"><a id="v:unwrapNewTypeBodyOfPDataWrap" class="def">unwrapNewTypeBodyOfPDataWrap</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/Vectorise-Utils-Base.html#unwrapNewTypeBodyOfPDataWrap" class="link">Source</a> <a href="#v:unwrapNewTypeBodyOfPDataWrap" class="selflink">#</a></p><div class="doc"><p>Strip the constructor wrapper of the <code>PData</code> <em>newtype</em> instance of <code>Wrap</code>.</p></div></div><div class="top"><p class="src"><a id="v:wrapNewTypeBodyOfPDatasWrap" class="def">wrapNewTypeBodyOfPDatasWrap</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/Vectorise-Utils-Base.html#wrapNewTypeBodyOfPDatasWrap" class="link">Source</a> <a href="#v:wrapNewTypeBodyOfPDatasWrap" class="selflink">#</a></p><div class="doc"><p>Apply the constructor wrapper of the <code>PDatas</code> <em>newtype</em> instance of <code>Wrap</code>.</p></div></div><div class="top"><p class="src"><a id="v:unwrapNewTypeBodyOfPDatasWrap" class="def">unwrapNewTypeBodyOfPDatasWrap</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/Vectorise-Utils-Base.html#unwrapNewTypeBodyOfPDatasWrap" class="link">Source</a> <a href="#v:unwrapNewTypeBodyOfPDatasWrap" class="selflink">#</a></p><div class="doc"><p>Strip the constructor wrapper of the <code>PDatas</code> <em>newtype</em> instance of <code>Wrap</code>.</p></div></div><div class="top"><p class="src"><a id="v:pdataReprTyCon" class="def">pdataReprTyCon</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> (<a href="TyCon.html#t:TyCon">TyCon</a>, [<a href="Type.html#t:Type">Type</a>]) <a href="src/Vectorise-Utils-Base.html#pdataReprTyCon" class="link">Source</a> <a href="#v:pdataReprTyCon" class="selflink">#</a></p><div class="doc"><p>Get the representation tycon of the <code>PData</code> data family for a given type.</p><p>This tycon does not appear explicitly in the source program &#8212; see Note [PData TyCons] in
 <code><a href="Vectorise-Generic.html#v:Description">Description</a></code>:</p><pre>pdataReprTyCon {Sum2} = {PDataSum2}</pre><p>The type for which we look up a <code>PData</code> instance may be more specific than the type in the
 instance declaration.  In that case the second component of the result will be more specific than
 a set of distinct type variables.</p></div></div><div class="top"><p class="src"><a id="v:pdataReprTyConExact" class="def">pdataReprTyConExact</a> :: <a href="TyCon.html#t:TyCon">TyCon</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> <a href="TyCon.html#t:TyCon">TyCon</a> <a href="src/Vectorise-Utils-Base.html#pdataReprTyConExact" class="link">Source</a> <a href="#v:pdataReprTyConExact" class="selflink">#</a></p><div class="doc"><p>Get the representation tycon of the <code>PData</code> data family for a given type constructor.</p><p>For example, for a binary type constructor <code>T</code>, we determine the representation type constructor
 for 'PData (T a b)'.</p></div></div><div class="top"><p class="src"><a id="v:pdatasReprTyConExact" class="def">pdatasReprTyConExact</a> :: <a href="TyCon.html#t:TyCon">TyCon</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> <a href="TyCon.html#t:TyCon">TyCon</a> <a href="src/Vectorise-Utils-Base.html#pdatasReprTyConExact" class="link">Source</a> <a href="#v:pdatasReprTyConExact" class="selflink">#</a></p><div class="doc"><p>Get the representation tycon of the <code>PDatas</code> data family for a given type constructor.</p><p>For example, for a binary type constructor <code>T</code>, we determine the representation type constructor
 for 'PDatas (T a b)'.</p></div></div><div class="top"><p class="src"><a id="v:pdataUnwrapScrut" class="def">pdataUnwrapScrut</a> :: <a href="Vectorise-Vect.html#t:VExpr">VExpr</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> (<a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>, <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>, <a href="DataCon.html#t:DataCon">DataCon</a>) <a href="src/Vectorise-Utils-Base.html#pdataUnwrapScrut" class="link">Source</a> <a href="#v:pdataUnwrapScrut" class="selflink">#</a></p><div class="doc"><p>Unwrap a <code>PData</code> representation scrutinee.</p></div></div><div class="top"><p class="src"><a id="v:preprFamInst" class="def">preprFamInst</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> <a href="FamInstEnv.html#t:FamInstMatch">FamInstMatch</a> <a href="src/Vectorise-Utils-Base.html#preprFamInst" class="link">Source</a> <a href="#v:preprFamInst" class="selflink">#</a></p><div class="doc"><p>Get the representation tycon of the <code>PRepr</code> type family for a given type.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.18.1</p></div></body></html>