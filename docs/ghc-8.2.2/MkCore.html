<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>MkCore</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/MkCore.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">ghc-8.2.2: The GHC API</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">MkCore</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Constructing normal syntax</a></li><li><a href="#g:2">Constructing boxed literals</a></li><li><a href="#g:3">Floats</a></li><li><a href="#g:4">Constructing small tuples</a></li><li><a href="#g:5">Constructing big tuples</a></li><li><a href="#g:6">Deconstructing small tuples</a></li><li><a href="#g:7">Deconstructing big tuples</a></li><li><a href="#g:8">Constructing list expressions</a></li><li><a href="#g:9">Constructing Maybe expressions</a></li><li><a href="#g:10">Error Ids</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Handy functions for creating much Core syntax</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:mkCoreLet">mkCoreLet</a> :: <a href="CoreSyn.html#t:CoreBind">CoreBind</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkCoreLets">mkCoreLets</a> :: [<a href="CoreSyn.html#t:CoreBind">CoreBind</a>] -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkCoreApp">mkCoreApp</a> :: <a href="Outputable.html#t:SDoc">SDoc</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkCoreApps">mkCoreApps</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; [<a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>] -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkCoreConApps">mkCoreConApps</a> :: <a href="DataCon.html#t:DataCon">DataCon</a> -&gt; [<a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>] -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkCoreLams">mkCoreLams</a> :: [<a href="CoreSyn.html#t:CoreBndr">CoreBndr</a>] -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkWildCase">mkWildCase</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; [<a href="CoreSyn.html#t:CoreAlt">CoreAlt</a>] -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkIfThenElse">mkIfThenElse</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkWildValBinder">mkWildValBinder</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="Var.html#t:Id">Id</a></li><li class="src short"><a href="#v:mkWildEvBinder">mkWildEvBinder</a> :: <a href="Type.html#t:PredType">PredType</a> -&gt; <a href="Var.html#t:EvVar">EvVar</a></li><li class="src short"><a href="#v:sortQuantVars">sortQuantVars</a> :: [<a href="Var.html#t:Var">Var</a>] -&gt; [<a href="Var.html#t:Var">Var</a>]</li><li class="src short"><a href="#v:castBottomExpr">castBottomExpr</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkWordExpr">mkWordExpr</a> :: <a href="DynFlags.html#t:DynFlags">DynFlags</a> -&gt; <a href="../base-4.10.1.0/Prelude.html#t:Integer">Integer</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkWordExprWord">mkWordExprWord</a> :: <a href="DynFlags.html#t:DynFlags">DynFlags</a> -&gt; <a href="../base-4.10.1.0/Data-Word.html#t:Word">Word</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkIntExpr">mkIntExpr</a> :: <a href="DynFlags.html#t:DynFlags">DynFlags</a> -&gt; <a href="../base-4.10.1.0/Prelude.html#t:Integer">Integer</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkIntExprInt">mkIntExprInt</a> :: <a href="DynFlags.html#t:DynFlags">DynFlags</a> -&gt; <a href="../base-4.10.1.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkIntegerExpr">mkIntegerExpr</a> :: <a href="HscTypes.html#t:MonadThings">MonadThings</a> m =&gt; <a href="../base-4.10.1.0/Prelude.html#t:Integer">Integer</a> -&gt; m <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkNaturalExpr">mkNaturalExpr</a> :: <a href="HscTypes.html#t:MonadThings">MonadThings</a> m =&gt; <a href="../base-4.10.1.0/Prelude.html#t:Integer">Integer</a> -&gt; m <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkFloatExpr">mkFloatExpr</a> :: <a href="../base-4.10.1.0/Prelude.html#t:Float">Float</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkDoubleExpr">mkDoubleExpr</a> :: <a href="../base-4.10.1.0/Prelude.html#t:Double">Double</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkCharExpr">mkCharExpr</a> :: <a href="../base-4.10.1.0/Data-Char.html#t:Char">Char</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkStringExpr">mkStringExpr</a> :: <a href="HscTypes.html#t:MonadThings">MonadThings</a> m =&gt; <a href="../base-4.10.1.0/Data-String.html#t:String">String</a> -&gt; m <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkStringExprFS">mkStringExprFS</a> :: <a href="HscTypes.html#t:MonadThings">MonadThings</a> m =&gt; <a href="FastString.html#t:FastString">FastString</a> -&gt; m <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkStringExprFSWith">mkStringExprFSWith</a> :: <a href="../base-4.10.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (<a href="Name.html#t:Name">Name</a> -&gt; m <a href="Var.html#t:Id">Id</a>) -&gt; <a href="FastString.html#t:FastString">FastString</a> -&gt; m <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:FloatBind">FloatBind</a><ul class="subs"><li>= <a href="#v:FloatLet">FloatLet</a> <a href="CoreSyn.html#t:CoreBind">CoreBind</a></li><li>| <a href="#v:FloatCase">FloatCase</a> <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="Var.html#t:Id">Id</a> <a href="CoreSyn.html#t:AltCon">AltCon</a> [<a href="Var.html#t:Var">Var</a>]</li></ul></li><li class="src short"><a href="#v:wrapFloat">wrapFloat</a> :: <a href="MkCore.html#t:FloatBind">FloatBind</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkCoreVarTup">mkCoreVarTup</a> :: [<a href="Var.html#t:Id">Id</a>] -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkCoreVarTupTy">mkCoreVarTupTy</a> :: [<a href="Var.html#t:Id">Id</a>] -&gt; <a href="Type.html#t:Type">Type</a></li><li class="src short"><a href="#v:mkCoreTup">mkCoreTup</a> :: [<a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>] -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkCoreUbxTup">mkCoreUbxTup</a> :: [<a href="Type.html#t:Type">Type</a>] -&gt; [<a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>] -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkCoreTupBoxity">mkCoreTupBoxity</a> :: <a href="BasicTypes.html#t:Boxity">Boxity</a> -&gt; [<a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>] -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:unitExpr">unitExpr</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkBigCoreVarTup">mkBigCoreVarTup</a> :: [<a href="Var.html#t:Id">Id</a>] -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkBigCoreVarTup1">mkBigCoreVarTup1</a> :: [<a href="Var.html#t:Id">Id</a>] -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkBigCoreVarTupTy">mkBigCoreVarTupTy</a> :: [<a href="Var.html#t:Id">Id</a>] -&gt; <a href="Type.html#t:Type">Type</a></li><li class="src short"><a href="#v:mkBigCoreTupTy">mkBigCoreTupTy</a> :: [<a href="Type.html#t:Type">Type</a>] -&gt; <a href="Type.html#t:Type">Type</a></li><li class="src short"><a href="#v:mkBigCoreTup">mkBigCoreTup</a> :: [<a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>] -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkSmallTupleSelector">mkSmallTupleSelector</a> :: [<a href="Var.html#t:Id">Id</a>] -&gt; <a href="Var.html#t:Id">Id</a> -&gt; <a href="Var.html#t:Id">Id</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkSmallTupleCase">mkSmallTupleCase</a> :: [<a href="Var.html#t:Id">Id</a>] -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="Var.html#t:Id">Id</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkTupleSelector">mkTupleSelector</a> :: [<a href="Var.html#t:Id">Id</a>] -&gt; <a href="Var.html#t:Id">Id</a> -&gt; <a href="Var.html#t:Id">Id</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkTupleSelector1">mkTupleSelector1</a> :: [<a href="Var.html#t:Id">Id</a>] -&gt; <a href="Var.html#t:Id">Id</a> -&gt; <a href="Var.html#t:Id">Id</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkTupleCase">mkTupleCase</a> :: <a href="UniqSupply.html#t:UniqSupply">UniqSupply</a> -&gt; [<a href="Var.html#t:Id">Id</a>] -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="Var.html#t:Id">Id</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkNilExpr">mkNilExpr</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkConsExpr">mkConsExpr</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkListExpr">mkListExpr</a> :: <a href="Type.html#t:Type">Type</a> -&gt; [<a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>] -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkFoldrExpr">mkFoldrExpr</a> :: <a href="HscTypes.html#t:MonadThings">MonadThings</a> m =&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; m <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkBuildExpr">mkBuildExpr</a> :: (<a href="HscTypes.html#t:MonadThings">MonadThings</a> m, <a href="UniqSupply.html#t:MonadUnique">MonadUnique</a> m) =&gt; <a href="Type.html#t:Type">Type</a> -&gt; ((<a href="Var.html#t:Id">Id</a>, <a href="Type.html#t:Type">Type</a>) -&gt; (<a href="Var.html#t:Id">Id</a>, <a href="Type.html#t:Type">Type</a>) -&gt; m <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>) -&gt; m <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkNothingExpr">mkNothingExpr</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkJustExpr">mkJustExpr</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkRuntimeErrorApp">mkRuntimeErrorApp</a> :: <a href="Var.html#t:Id">Id</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="../base-4.10.1.0/Data-String.html#t:String">String</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkImpossibleExpr">mkImpossibleExpr</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:mkAbsentErrorApp">mkAbsentErrorApp</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="../base-4.10.1.0/Data-String.html#t:String">String</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:errorIds">errorIds</a> :: [<a href="Var.html#t:Id">Id</a>]</li><li class="src short"><a href="#v:rEC_CON_ERROR_ID">rEC_CON_ERROR_ID</a> :: <a href="Var.html#t:Id">Id</a></li><li class="src short"><a href="#v:iRREFUT_PAT_ERROR_ID">iRREFUT_PAT_ERROR_ID</a> :: <a href="Var.html#t:Id">Id</a></li><li class="src short"><a href="#v:rUNTIME_ERROR_ID">rUNTIME_ERROR_ID</a> :: <a href="Var.html#t:Id">Id</a></li><li class="src short"><a href="#v:nON_EXHAUSTIVE_GUARDS_ERROR_ID">nON_EXHAUSTIVE_GUARDS_ERROR_ID</a> :: <a href="Var.html#t:Id">Id</a></li><li class="src short"><a href="#v:nO_METHOD_BINDING_ERROR_ID">nO_METHOD_BINDING_ERROR_ID</a> :: <a href="Var.html#t:Id">Id</a></li><li class="src short"><a href="#v:pAT_ERROR_ID">pAT_ERROR_ID</a> :: <a href="Var.html#t:Id">Id</a></li><li class="src short"><a href="#v:rEC_SEL_ERROR_ID">rEC_SEL_ERROR_ID</a> :: <a href="Var.html#t:Id">Id</a></li><li class="src short"><a href="#v:aBSENT_ERROR_ID">aBSENT_ERROR_ID</a> :: <a href="Var.html#t:Id">Id</a></li><li class="src short"><a href="#v:tYPE_ERROR_ID">tYPE_ERROR_ID</a> :: <a href="Var.html#t:Id">Id</a></li></ul></div><div id="interface"><h1 id="g:1">Constructing normal syntax</h1><div class="top"><p class="src"><a id="v:mkCoreLet" class="def">mkCoreLet</a> :: <a href="CoreSyn.html#t:CoreBind">CoreBind</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/MkCore.html#mkCoreLet" class="link">Source</a> <a href="#v:mkCoreLet" class="selflink">#</a></p><div class="doc"><p>Bind a binding group over an expression, using a <code>let</code> or <code>case</code> as
 appropriate (see <a href="CoreSyn.html#let_app_invariant">CoreSyn</a>)</p></div></div><div class="top"><p class="src"><a id="v:mkCoreLets" class="def">mkCoreLets</a> :: [<a href="CoreSyn.html#t:CoreBind">CoreBind</a>] -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/MkCore.html#mkCoreLets" class="link">Source</a> <a href="#v:mkCoreLets" class="selflink">#</a></p><div class="doc"><p>Bind a list of binding groups over an expression. The leftmost binding
 group becomes the outermost group in the resulting expression</p></div></div><div class="top"><p class="src"><a id="v:mkCoreApp" class="def">mkCoreApp</a> :: <a href="Outputable.html#t:SDoc">SDoc</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <span class="fixity">infixl 4</span><span class="rightedge"></span> <a href="src/MkCore.html#mkCoreApp" class="link">Source</a> <a href="#v:mkCoreApp" class="selflink">#</a></p><div class="doc"><p>Construct an expression which represents the application of one expression
 to the other</p></div></div><div class="top"><p class="src"><a id="v:mkCoreApps" class="def">mkCoreApps</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; [<a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>] -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <span class="fixity">infixl 4</span><span class="rightedge"></span> <a href="src/MkCore.html#mkCoreApps" class="link">Source</a> <a href="#v:mkCoreApps" class="selflink">#</a></p><div class="doc"><p>Construct an expression which represents the application of a number of
 expressions to another. The leftmost expression in the list is applied first
 Respects the let/app invariant by building a case expression where necessary
   See CoreSyn Note [CoreSyn let/app invariant]</p></div></div><div class="top"><p class="src"><a id="v:mkCoreConApps" class="def">mkCoreConApps</a> :: <a href="DataCon.html#t:DataCon">DataCon</a> -&gt; [<a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>] -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/MkCore.html#mkCoreConApps" class="link">Source</a> <a href="#v:mkCoreConApps" class="selflink">#</a></p><div class="doc"><p>Construct an expression which represents the application of a number of
 expressions to that of a data constructor expression. The leftmost expression
 in the list is applied first</p></div></div><div class="top"><p class="src"><a id="v:mkCoreLams" class="def">mkCoreLams</a> :: [<a href="CoreSyn.html#t:CoreBndr">CoreBndr</a>] -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/MkCore.html#mkCoreLams" class="link">Source</a> <a href="#v:mkCoreLams" class="selflink">#</a></p><div class="doc"><p>Create a lambda where the given expression has a number of variables
 bound over it. The leftmost binder is that bound by the outermost
 lambda in the result</p></div></div><div class="top"><p class="src"><a id="v:mkWildCase" class="def">mkWildCase</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; [<a href="CoreSyn.html#t:CoreAlt">CoreAlt</a>] -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/MkCore.html#mkWildCase" class="link">Source</a> <a href="#v:mkWildCase" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkIfThenElse" class="def">mkIfThenElse</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/MkCore.html#mkIfThenElse" class="link">Source</a> <a href="#v:mkIfThenElse" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkWildValBinder" class="def">mkWildValBinder</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="Var.html#t:Id">Id</a> <a href="src/MkCore.html#mkWildValBinder" class="link">Source</a> <a href="#v:mkWildValBinder" class="selflink">#</a></p><div class="doc"><p>Make a <em>wildcard binder</em>. This is typically used when you need a binder
 that you expect to use only at a *binding* site.  Do not use it at
 occurrence sites because it has a single, fixed unique, and it's very
 easy to get into difficulties with shadowing.  That's why it is used so little.
 See Note [WildCard binders] in SimplEnv</p></div></div><div class="top"><p class="src"><a id="v:mkWildEvBinder" class="def">mkWildEvBinder</a> :: <a href="Type.html#t:PredType">PredType</a> -&gt; <a href="Var.html#t:EvVar">EvVar</a> <a href="src/MkCore.html#mkWildEvBinder" class="link">Source</a> <a href="#v:mkWildEvBinder" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:sortQuantVars" class="def">sortQuantVars</a> :: [<a href="Var.html#t:Var">Var</a>] -&gt; [<a href="Var.html#t:Var">Var</a>] <a href="src/MkCore.html#sortQuantVars" class="link">Source</a> <a href="#v:sortQuantVars" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:castBottomExpr" class="def">castBottomExpr</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/MkCore.html#castBottomExpr" class="link">Source</a> <a href="#v:castBottomExpr" class="selflink">#</a></p></div><h1 id="g:2">Constructing boxed literals</h1><div class="top"><p class="src"><a id="v:mkWordExpr" class="def">mkWordExpr</a> :: <a href="DynFlags.html#t:DynFlags">DynFlags</a> -&gt; <a href="../base-4.10.1.0/Prelude.html#t:Integer">Integer</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/MkCore.html#mkWordExpr" class="link">Source</a> <a href="#v:mkWordExpr" class="selflink">#</a></p><div class="doc"><p>Create a <code><a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></code> which will evaluate to the a <code>Word</code> with the given value</p></div></div><div class="top"><p class="src"><a id="v:mkWordExprWord" class="def">mkWordExprWord</a> :: <a href="DynFlags.html#t:DynFlags">DynFlags</a> -&gt; <a href="../base-4.10.1.0/Data-Word.html#t:Word">Word</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/MkCore.html#mkWordExprWord" class="link">Source</a> <a href="#v:mkWordExprWord" class="selflink">#</a></p><div class="doc"><p>Create a <code><a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></code> which will evaluate to the given <code>Word</code></p></div></div><div class="top"><p class="src"><a id="v:mkIntExpr" class="def">mkIntExpr</a> :: <a href="DynFlags.html#t:DynFlags">DynFlags</a> -&gt; <a href="../base-4.10.1.0/Prelude.html#t:Integer">Integer</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/MkCore.html#mkIntExpr" class="link">Source</a> <a href="#v:mkIntExpr" class="selflink">#</a></p><div class="doc"><p>Create a <code><a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></code> which will evaluate to the given <code>Int</code></p></div></div><div class="top"><p class="src"><a id="v:mkIntExprInt" class="def">mkIntExprInt</a> :: <a href="DynFlags.html#t:DynFlags">DynFlags</a> -&gt; <a href="../base-4.10.1.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/MkCore.html#mkIntExprInt" class="link">Source</a> <a href="#v:mkIntExprInt" class="selflink">#</a></p><div class="doc"><p>Create a <code><a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></code> which will evaluate to the given <code>Int</code></p></div></div><div class="top"><p class="src"><a id="v:mkIntegerExpr" class="def">mkIntegerExpr</a> :: <a href="HscTypes.html#t:MonadThings">MonadThings</a> m =&gt; <a href="../base-4.10.1.0/Prelude.html#t:Integer">Integer</a> -&gt; m <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/MkCore.html#mkIntegerExpr" class="link">Source</a> <a href="#v:mkIntegerExpr" class="selflink">#</a></p><div class="doc"><p>Create a <code><a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></code> which will evaluate to the given <code>Integer</code></p></div></div><div class="top"><p class="src"><a id="v:mkNaturalExpr" class="def">mkNaturalExpr</a> :: <a href="HscTypes.html#t:MonadThings">MonadThings</a> m =&gt; <a href="../base-4.10.1.0/Prelude.html#t:Integer">Integer</a> -&gt; m <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/MkCore.html#mkNaturalExpr" class="link">Source</a> <a href="#v:mkNaturalExpr" class="selflink">#</a></p><div class="doc"><p>Create a <code><a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></code> which will evaluate to the given <code>Natural</code></p><p>TODO: should we add LitNatural to Core?</p></div></div><div class="top"><p class="src"><a id="v:mkFloatExpr" class="def">mkFloatExpr</a> :: <a href="../base-4.10.1.0/Prelude.html#t:Float">Float</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/MkCore.html#mkFloatExpr" class="link">Source</a> <a href="#v:mkFloatExpr" class="selflink">#</a></p><div class="doc"><p>Create a <code><a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></code> which will evaluate to the given <code>Float</code></p></div></div><div class="top"><p class="src"><a id="v:mkDoubleExpr" class="def">mkDoubleExpr</a> :: <a href="../base-4.10.1.0/Prelude.html#t:Double">Double</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/MkCore.html#mkDoubleExpr" class="link">Source</a> <a href="#v:mkDoubleExpr" class="selflink">#</a></p><div class="doc"><p>Create a <code><a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></code> which will evaluate to the given <code>Double</code></p></div></div><div class="top"><p class="src"><a id="v:mkCharExpr" class="def">mkCharExpr</a> :: <a href="../base-4.10.1.0/Data-Char.html#t:Char">Char</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/MkCore.html#mkCharExpr" class="link">Source</a> <a href="#v:mkCharExpr" class="selflink">#</a></p><div class="doc"><p>Create a <code><a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></code> which will evaluate to the given <code>Char</code></p></div></div><div class="top"><p class="src"><a id="v:mkStringExpr" class="def">mkStringExpr</a> :: <a href="HscTypes.html#t:MonadThings">MonadThings</a> m =&gt; <a href="../base-4.10.1.0/Data-String.html#t:String">String</a> -&gt; m <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/MkCore.html#mkStringExpr" class="link">Source</a> <a href="#v:mkStringExpr" class="selflink">#</a></p><div class="doc"><p>Create a <code><a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></code> which will evaluate to the given <code>String</code></p></div></div><div class="top"><p class="src"><a id="v:mkStringExprFS" class="def">mkStringExprFS</a> :: <a href="HscTypes.html#t:MonadThings">MonadThings</a> m =&gt; <a href="FastString.html#t:FastString">FastString</a> -&gt; m <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/MkCore.html#mkStringExprFS" class="link">Source</a> <a href="#v:mkStringExprFS" class="selflink">#</a></p><div class="doc"><p>Create a <code><a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></code> which will evaluate to a string morally equivalent to the given <code>FastString</code></p></div></div><div class="top"><p class="src"><a id="v:mkStringExprFSWith" class="def">mkStringExprFSWith</a> :: <a href="../base-4.10.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (<a href="Name.html#t:Name">Name</a> -&gt; m <a href="Var.html#t:Id">Id</a>) -&gt; <a href="FastString.html#t:FastString">FastString</a> -&gt; m <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/MkCore.html#mkStringExprFSWith" class="link">Source</a> <a href="#v:mkStringExprFSWith" class="selflink">#</a></p></div><h1 id="g:3">Floats</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:FloatBind" class="def">FloatBind</a> <a href="src/MkCore.html#FloatBind" class="link">Source</a> <a href="#t:FloatBind" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:FloatLet" class="def">FloatLet</a> <a href="CoreSyn.html#t:CoreBind">CoreBind</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:FloatCase" class="def">FloatCase</a> <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="Var.html#t:Id">Id</a> <a href="CoreSyn.html#t:AltCon">AltCon</a> [<a href="Var.html#t:Var">Var</a>]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:FloatBind" class="caption collapser" onclick="toggleSection('i:FloatBind')">Instances</p><div id="section.i:FloatBind" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:FloatBind:Outputable:1" class="instance expander" onclick="toggleSection('i:id:FloatBind:Outputable:1')"></span> <a href="Outputable.html#t:Outputable">Outputable</a> <a href="MkCore.html#t:FloatBind">FloatBind</a></span> <a href="#t:FloatBind" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:FloatBind:Outputable:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:ppr">ppr</a> :: <a href="MkCore.html#t:FloatBind">FloatBind</a> -&gt; <a href="Outputable.html#t:SDoc">SDoc</a> <a href="src/Outputable.html#ppr" class="link">Source</a> <a href="#v:ppr" class="selflink">#</a></p><p class="src"><a href="#v:pprPrec">pprPrec</a> :: <a href="../base-4.10.1.0/Prelude.html#t:Rational">Rational</a> -&gt; <a href="MkCore.html#t:FloatBind">FloatBind</a> -&gt; <a href="Outputable.html#t:SDoc">SDoc</a> <a href="src/Outputable.html#pprPrec" class="link">Source</a> <a href="#v:pprPrec" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:wrapFloat" class="def">wrapFloat</a> :: <a href="MkCore.html#t:FloatBind">FloatBind</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/MkCore.html#wrapFloat" class="link">Source</a> <a href="#v:wrapFloat" class="selflink">#</a></p></div><h1 id="g:4">Constructing small tuples</h1><div class="top"><p class="src"><a id="v:mkCoreVarTup" class="def">mkCoreVarTup</a> :: [<a href="Var.html#t:Id">Id</a>] -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/MkCore.html#mkCoreVarTup" class="link">Source</a> <a href="#v:mkCoreVarTup" class="selflink">#</a></p><div class="doc"><p>Build a small tuple holding the specified variables
 One-tuples are flattened; see Note [Flattening one-tuples]</p></div></div><div class="top"><p class="src"><a id="v:mkCoreVarTupTy" class="def">mkCoreVarTupTy</a> :: [<a href="Var.html#t:Id">Id</a>] -&gt; <a href="Type.html#t:Type">Type</a> <a href="src/MkCore.html#mkCoreVarTupTy" class="link">Source</a> <a href="#v:mkCoreVarTupTy" class="selflink">#</a></p><div class="doc"><p>Build the type of a small tuple that holds the specified variables
 One-tuples are flattened; see Note [Flattening one-tuples]</p></div></div><div class="top"><p class="src"><a id="v:mkCoreTup" class="def">mkCoreTup</a> :: [<a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>] -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/MkCore.html#mkCoreTup" class="link">Source</a> <a href="#v:mkCoreTup" class="selflink">#</a></p><div class="doc"><p>Build a small tuple holding the specified expressions
 One-tuples are flattened; see Note [Flattening one-tuples]</p></div></div><div class="top"><p class="src"><a id="v:mkCoreUbxTup" class="def">mkCoreUbxTup</a> :: [<a href="Type.html#t:Type">Type</a>] -&gt; [<a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>] -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/MkCore.html#mkCoreUbxTup" class="link">Source</a> <a href="#v:mkCoreUbxTup" class="selflink">#</a></p><div class="doc"><p>Build a small unboxed tuple holding the specified expressions,
 with the given types. The types must be the types of the expressions.
 Do not include the RuntimeRep specifiers; this function calculates them
 for you.
 Does <em>not</em> flatten one-tuples; see Note [Flattening one-tuples]</p></div></div><div class="top"><p class="src"><a id="v:mkCoreTupBoxity" class="def">mkCoreTupBoxity</a> :: <a href="BasicTypes.html#t:Boxity">Boxity</a> -&gt; [<a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>] -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/MkCore.html#mkCoreTupBoxity" class="link">Source</a> <a href="#v:mkCoreTupBoxity" class="selflink">#</a></p><div class="doc"><p>Make a core tuple of the given boxity</p></div></div><div class="top"><p class="src"><a id="v:unitExpr" class="def">unitExpr</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/MkCore.html#unitExpr" class="link">Source</a> <a href="#v:unitExpr" class="selflink">#</a></p><div class="doc"><p>The unit expression</p></div></div><h1 id="g:5">Constructing big tuples</h1><div class="top"><p class="src"><a id="v:mkBigCoreVarTup" class="def">mkBigCoreVarTup</a> :: [<a href="Var.html#t:Id">Id</a>] -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/MkCore.html#mkBigCoreVarTup" class="link">Source</a> <a href="#v:mkBigCoreVarTup" class="selflink">#</a></p><div class="doc"><p>Build a big tuple holding the specified variables
 One-tuples are flattened; see Note [Flattening one-tuples]</p></div></div><div class="top"><p class="src"><a id="v:mkBigCoreVarTup1" class="def">mkBigCoreVarTup1</a> :: [<a href="Var.html#t:Id">Id</a>] -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/MkCore.html#mkBigCoreVarTup1" class="link">Source</a> <a href="#v:mkBigCoreVarTup1" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkBigCoreVarTupTy" class="def">mkBigCoreVarTupTy</a> :: [<a href="Var.html#t:Id">Id</a>] -&gt; <a href="Type.html#t:Type">Type</a> <a href="src/MkCore.html#mkBigCoreVarTupTy" class="link">Source</a> <a href="#v:mkBigCoreVarTupTy" class="selflink">#</a></p><div class="doc"><p>Build the type of a big tuple that holds the specified variables
 One-tuples are flattened; see Note [Flattening one-tuples]</p></div></div><div class="top"><p class="src"><a id="v:mkBigCoreTupTy" class="def">mkBigCoreTupTy</a> :: [<a href="Type.html#t:Type">Type</a>] -&gt; <a href="Type.html#t:Type">Type</a> <a href="src/MkCore.html#mkBigCoreTupTy" class="link">Source</a> <a href="#v:mkBigCoreTupTy" class="selflink">#</a></p><div class="doc"><p>Build the type of a big tuple that holds the specified type of thing
 One-tuples are flattened; see Note [Flattening one-tuples]</p></div></div><div class="top"><p class="src"><a id="v:mkBigCoreTup" class="def">mkBigCoreTup</a> :: [<a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>] -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/MkCore.html#mkBigCoreTup" class="link">Source</a> <a href="#v:mkBigCoreTup" class="selflink">#</a></p><div class="doc"><p>Build a big tuple holding the specified expressions
 One-tuples are flattened; see Note [Flattening one-tuples]</p></div></div><h1 id="g:6">Deconstructing small tuples</h1><div class="top"><p class="src"><a id="v:mkSmallTupleSelector" class="def">mkSmallTupleSelector</a> :: [<a href="Var.html#t:Id">Id</a>] -&gt; <a href="Var.html#t:Id">Id</a> -&gt; <a href="Var.html#t:Id">Id</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/MkCore.html#mkSmallTupleSelector" class="link">Source</a> <a href="#v:mkSmallTupleSelector" class="selflink">#</a></p><div class="doc"><p><code>mkSmallTupleSelector1</code> is like <code><a href="MkCore.html#v:mkSmallTupleSelector">mkSmallTupleSelector</a></code>
 but one-tuples are NOT flattened (see Note [Flattening one-tuples])</p><p>Like <code><a href="MkCore.html#v:mkTupleSelector">mkTupleSelector</a></code> but for tuples that are guaranteed
 never to be &quot;big&quot;.</p><pre>mkSmallTupleSelector [x] x v e = [| e |]
mkSmallTupleSelector [x,y,z] x v e = [| case e of v { (x,y,z) -&gt; x } |]</pre></div></div><div class="top"><p class="src"><a id="v:mkSmallTupleCase" class="def">mkSmallTupleCase</a> <a href="src/MkCore.html#mkSmallTupleCase" class="link">Source</a> <a href="#v:mkSmallTupleCase" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [<a href="Var.html#t:Id">Id</a>]</td><td class="doc"><p>The tuple args</p></td></tr><tr><td class="src">-&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></td><td class="doc"><p>Body of the case</p></td></tr><tr><td class="src">-&gt; <a href="Var.html#t:Id">Id</a></td><td class="doc"><p>A variable of the same type as the scrutinee</p></td></tr><tr><td class="src">-&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></td><td class="doc"><p>Scrutinee</p></td></tr><tr><td class="src">-&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>As <code><a href="MkCore.html#v:mkTupleCase">mkTupleCase</a></code>, but for a tuple that is small enough to be guaranteed
 not to need nesting.</p></div></div><h1 id="g:7">Deconstructing big tuples</h1><div class="top"><p class="src"><a id="v:mkTupleSelector" class="def">mkTupleSelector</a> <a href="src/MkCore.html#mkTupleSelector" class="link">Source</a> <a href="#v:mkTupleSelector" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [<a href="Var.html#t:Id">Id</a>]</td><td class="doc"><p>The <code><a href="Var.html#t:Id">Id</a></code>s to pattern match the tuple against</p></td></tr><tr><td class="src">-&gt; <a href="Var.html#t:Id">Id</a></td><td class="doc"><p>The <code><a href="Var.html#t:Id">Id</a></code> to select</p></td></tr><tr><td class="src">-&gt; <a href="Var.html#t:Id">Id</a></td><td class="doc"><p>A variable of the same type as the scrutinee</p></td></tr><tr><td class="src">-&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></td><td class="doc"><p>Scrutinee</p></td></tr><tr><td class="src">-&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></td><td class="doc"><p>Selector expression</p></td></tr></table></div><div class="doc"><p><code><a href="MkCore.html#v:mkTupleSelector1">mkTupleSelector1</a></code> is like <code><a href="MkCore.html#v:mkTupleSelector">mkTupleSelector</a></code>
 but one-tuples are NOT flattened (see Note [Flattening one-tuples])</p><p>Builds a selector which scrutises the given
 expression and extracts the one name from the list given.
 If you want the no-shadowing rule to apply, the caller
 is responsible for making sure that none of these names
 are in scope.</p><p>If there is just one <code><a href="Var.html#t:Id">Id</a></code> in the tuple, then the selector is
 just the identity.</p><p>If necessary, we pattern match on a &quot;big&quot; tuple.</p></div></div><div class="top"><p class="src"><a id="v:mkTupleSelector1" class="def">mkTupleSelector1</a> <a href="src/MkCore.html#mkTupleSelector1" class="link">Source</a> <a href="#v:mkTupleSelector1" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [<a href="Var.html#t:Id">Id</a>]</td><td class="doc"><p>The <code><a href="Var.html#t:Id">Id</a></code>s to pattern match the tuple against</p></td></tr><tr><td class="src">-&gt; <a href="Var.html#t:Id">Id</a></td><td class="doc"><p>The <code><a href="Var.html#t:Id">Id</a></code> to select</p></td></tr><tr><td class="src">-&gt; <a href="Var.html#t:Id">Id</a></td><td class="doc"><p>A variable of the same type as the scrutinee</p></td></tr><tr><td class="src">-&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></td><td class="doc"><p>Scrutinee</p></td></tr><tr><td class="src">-&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></td><td class="doc"><p>Selector expression</p></td></tr></table></div><div class="doc"><p>Builds a selector which scrutises the given
 expression and extracts the one name from the list given.
 If you want the no-shadowing rule to apply, the caller
 is responsible for making sure that none of these names
 are in scope.</p><p>If there is just one <code><a href="Var.html#t:Id">Id</a></code> in the tuple, then the selector is
 just the identity.</p><p>If necessary, we pattern match on a &quot;big&quot; tuple.</p></div></div><div class="top"><p class="src"><a id="v:mkTupleCase" class="def">mkTupleCase</a> <a href="src/MkCore.html#mkTupleCase" class="link">Source</a> <a href="#v:mkTupleCase" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="UniqSupply.html#t:UniqSupply">UniqSupply</a></td><td class="doc"><p>For inventing names of intermediate variables</p></td></tr><tr><td class="src">-&gt; [<a href="Var.html#t:Id">Id</a>]</td><td class="doc"><p>The tuple identifiers to pattern match on</p></td></tr><tr><td class="src">-&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></td><td class="doc"><p>Body of the case</p></td></tr><tr><td class="src">-&gt; <a href="Var.html#t:Id">Id</a></td><td class="doc"><p>A variable of the same type as the scrutinee</p></td></tr><tr><td class="src">-&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></td><td class="doc"><p>Scrutinee</p></td></tr><tr><td class="src">-&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>A generalization of <code><a href="MkCore.html#v:mkTupleSelector">mkTupleSelector</a></code>, allowing the body
 of the case to be an arbitrary expression.</p><p>To avoid shadowing, we use uniques to invent new variables.</p><p>If necessary we pattern match on a &quot;big&quot; tuple.</p></div></div><h1 id="g:8">Constructing list expressions</h1><div class="top"><p class="src"><a id="v:mkNilExpr" class="def">mkNilExpr</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/MkCore.html#mkNilExpr" class="link">Source</a> <a href="#v:mkNilExpr" class="selflink">#</a></p><div class="doc"><p>Makes a list <code>[]</code> for lists of the specified type</p></div></div><div class="top"><p class="src"><a id="v:mkConsExpr" class="def">mkConsExpr</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/MkCore.html#mkConsExpr" class="link">Source</a> <a href="#v:mkConsExpr" class="selflink">#</a></p><div class="doc"><p>Makes a list <code>(:)</code> for lists of the specified type</p></div></div><div class="top"><p class="src"><a id="v:mkListExpr" class="def">mkListExpr</a> :: <a href="Type.html#t:Type">Type</a> -&gt; [<a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>] -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/MkCore.html#mkListExpr" class="link">Source</a> <a href="#v:mkListExpr" class="selflink">#</a></p><div class="doc"><p>Make a list containing the given expressions, where the list has the given type</p></div></div><div class="top"><p class="src"><a id="v:mkFoldrExpr" class="def">mkFoldrExpr</a> <a href="src/MkCore.html#mkFoldrExpr" class="link">Source</a> <a href="#v:mkFoldrExpr" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="HscTypes.html#t:MonadThings">MonadThings</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Type.html#t:Type">Type</a></td><td class="doc"><p>Element type of the list</p></td></tr><tr><td class="src">-&gt; <a href="Type.html#t:Type">Type</a></td><td class="doc"><p>Fold result type</p></td></tr><tr><td class="src">-&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></td><td class="doc"><p><a href="Cons.html">Cons</a> function expression for the fold</p></td></tr><tr><td class="src">-&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></td><td class="doc"><p><a href="Nil.html">Nil</a> expression for the fold</p></td></tr><tr><td class="src">-&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></td><td class="doc"><p>List expression being folded acress</p></td></tr><tr><td class="src">-&gt; m <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Make a fully applied <code><a href="../base-4.10.1.0/Data-Foldable.html#v:foldr">foldr</a></code> expression</p></div></div><div class="top"><p class="src"><a id="v:mkBuildExpr" class="def">mkBuildExpr</a> <a href="src/MkCore.html#mkBuildExpr" class="link">Source</a> <a href="#v:mkBuildExpr" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="HscTypes.html#t:MonadThings">MonadThings</a> m, <a href="UniqSupply.html#t:MonadUnique">MonadUnique</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Type.html#t:Type">Type</a></td><td class="doc"><p>Type of list elements to be built</p></td></tr><tr><td class="src">-&gt; ((<a href="Var.html#t:Id">Id</a>, <a href="Type.html#t:Type">Type</a>) -&gt; (<a href="Var.html#t:Id">Id</a>, <a href="Type.html#t:Type">Type</a>) -&gt; m <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>)</td><td class="doc"><p>Function that, given information about the <code><a href="Var.html#t:Id">Id</a></code>s
 of the binders for the build worker function, returns
 the body of that worker</p></td></tr><tr><td class="src">-&gt; m <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Make a <code>build</code> expression applied to a locally-bound worker function</p></div></div><h1 id="g:9">Constructing Maybe expressions</h1><div class="top"><p class="src"><a id="v:mkNothingExpr" class="def">mkNothingExpr</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/MkCore.html#mkNothingExpr" class="link">Source</a> <a href="#v:mkNothingExpr" class="selflink">#</a></p><div class="doc"><p>Makes a Nothing for the specified type</p></div></div><div class="top"><p class="src"><a id="v:mkJustExpr" class="def">mkJustExpr</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/MkCore.html#mkJustExpr" class="link">Source</a> <a href="#v:mkJustExpr" class="selflink">#</a></p><div class="doc"><p>Makes a Just from a value of the specified type</p></div></div><h1 id="g:10">Error Ids</h1><div class="top"><p class="src"><a id="v:mkRuntimeErrorApp" class="def">mkRuntimeErrorApp</a> :: <a href="Var.html#t:Id">Id</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="../base-4.10.1.0/Data-String.html#t:String">String</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/MkCore.html#mkRuntimeErrorApp" class="link">Source</a> <a href="#v:mkRuntimeErrorApp" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkImpossibleExpr" class="def">mkImpossibleExpr</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/MkCore.html#mkImpossibleExpr" class="link">Source</a> <a href="#v:mkImpossibleExpr" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkAbsentErrorApp" class="def">mkAbsentErrorApp</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="../base-4.10.1.0/Data-String.html#t:String">String</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/MkCore.html#mkAbsentErrorApp" class="link">Source</a> <a href="#v:mkAbsentErrorApp" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:errorIds" class="def">errorIds</a> :: [<a href="Var.html#t:Id">Id</a>] <a href="src/MkCore.html#errorIds" class="link">Source</a> <a href="#v:errorIds" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:rEC_CON_ERROR_ID" class="def">rEC_CON_ERROR_ID</a> :: <a href="Var.html#t:Id">Id</a> <a href="src/MkCore.html#rEC_CON_ERROR_ID" class="link">Source</a> <a href="#v:rEC_CON_ERROR_ID" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:iRREFUT_PAT_ERROR_ID" class="def">iRREFUT_PAT_ERROR_ID</a> :: <a href="Var.html#t:Id">Id</a> <a href="src/MkCore.html#iRREFUT_PAT_ERROR_ID" class="link">Source</a> <a href="#v:iRREFUT_PAT_ERROR_ID" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:rUNTIME_ERROR_ID" class="def">rUNTIME_ERROR_ID</a> :: <a href="Var.html#t:Id">Id</a> <a href="src/MkCore.html#rUNTIME_ERROR_ID" class="link">Source</a> <a href="#v:rUNTIME_ERROR_ID" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:nON_EXHAUSTIVE_GUARDS_ERROR_ID" class="def">nON_EXHAUSTIVE_GUARDS_ERROR_ID</a> :: <a href="Var.html#t:Id">Id</a> <a href="src/MkCore.html#nON_EXHAUSTIVE_GUARDS_ERROR_ID" class="link">Source</a> <a href="#v:nON_EXHAUSTIVE_GUARDS_ERROR_ID" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:nO_METHOD_BINDING_ERROR_ID" class="def">nO_METHOD_BINDING_ERROR_ID</a> :: <a href="Var.html#t:Id">Id</a> <a href="src/MkCore.html#nO_METHOD_BINDING_ERROR_ID" class="link">Source</a> <a href="#v:nO_METHOD_BINDING_ERROR_ID" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:pAT_ERROR_ID" class="def">pAT_ERROR_ID</a> :: <a href="Var.html#t:Id">Id</a> <a href="src/MkCore.html#pAT_ERROR_ID" class="link">Source</a> <a href="#v:pAT_ERROR_ID" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:rEC_SEL_ERROR_ID" class="def">rEC_SEL_ERROR_ID</a> :: <a href="Var.html#t:Id">Id</a> <a href="src/MkCore.html#rEC_SEL_ERROR_ID" class="link">Source</a> <a href="#v:rEC_SEL_ERROR_ID" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:aBSENT_ERROR_ID" class="def">aBSENT_ERROR_ID</a> :: <a href="Var.html#t:Id">Id</a> <a href="src/MkCore.html#aBSENT_ERROR_ID" class="link">Source</a> <a href="#v:aBSENT_ERROR_ID" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:tYPE_ERROR_ID" class="def">tYPE_ERROR_ID</a> :: <a href="Var.html#t:Id">Id</a> <a href="src/MkCore.html#tYPE_ERROR_ID" class="link">Source</a> <a href="#v:tYPE_ERROR_ID" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.18.1</p></div></body></html>