<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>CoreFVs</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/CoreFVs.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">ghc-8.2.2: The GHC API</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">CoreFVs</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Free variables of expressions and binding groups</a></li><li><a href="#g:2">Selective free variables of expressions</a></li><li><a href="#g:3">Free variables of Rules, Vars and Ids</a></li><li><a href="#g:4">Orphan names</a></li><li><a href="#g:5">Core syntax tree annotation with free variables</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>A module concerned with finding the free variables of an expression.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:exprFreeVars">exprFreeVars</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="VarSet.html#t:VarSet">VarSet</a></li><li class="src short"><a href="#v:exprFreeVarsDSet">exprFreeVarsDSet</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="VarSet.html#t:DVarSet">DVarSet</a></li><li class="src short"><a href="#v:exprFreeVarsList">exprFreeVarsList</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; [<a href="Var.html#t:Var">Var</a>]</li><li class="src short"><a href="#v:exprFreeIds">exprFreeIds</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="VarSet.html#t:IdSet">IdSet</a></li><li class="src short"><a href="#v:exprFreeIdsDSet">exprFreeIdsDSet</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="VarSet.html#t:DIdSet">DIdSet</a></li><li class="src short"><a href="#v:exprFreeIdsList">exprFreeIdsList</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; [<a href="Var.html#t:Id">Id</a>]</li><li class="src short"><a href="#v:exprsFreeIdsDSet">exprsFreeIdsDSet</a> :: [<a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>] -&gt; <a href="VarSet.html#t:DIdSet">DIdSet</a></li><li class="src short"><a href="#v:exprsFreeIdsList">exprsFreeIdsList</a> :: [<a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>] -&gt; [<a href="Var.html#t:Id">Id</a>]</li><li class="src short"><a href="#v:exprsFreeVars">exprsFreeVars</a> :: [<a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>] -&gt; <a href="VarSet.html#t:VarSet">VarSet</a></li><li class="src short"><a href="#v:exprsFreeVarsList">exprsFreeVarsList</a> :: [<a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>] -&gt; [<a href="Var.html#t:Var">Var</a>]</li><li class="src short"><a href="#v:bindFreeVars">bindFreeVars</a> :: <a href="CoreSyn.html#t:CoreBind">CoreBind</a> -&gt; <a href="VarSet.html#t:VarSet">VarSet</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:InterestingVarFun">InterestingVarFun</a> = <a href="Var.html#t:Var">Var</a> -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:exprSomeFreeVars">exprSomeFreeVars</a> :: <a href="CoreFVs.html#t:InterestingVarFun">InterestingVarFun</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="VarSet.html#t:VarSet">VarSet</a></li><li class="src short"><a href="#v:exprsSomeFreeVars">exprsSomeFreeVars</a> :: <a href="CoreFVs.html#t:InterestingVarFun">InterestingVarFun</a> -&gt; [<a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>] -&gt; <a href="VarSet.html#t:VarSet">VarSet</a></li><li class="src short"><a href="#v:exprSomeFreeVarsList">exprSomeFreeVarsList</a> :: <a href="CoreFVs.html#t:InterestingVarFun">InterestingVarFun</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; [<a href="Var.html#t:Var">Var</a>]</li><li class="src short"><a href="#v:exprsSomeFreeVarsList">exprsSomeFreeVarsList</a> :: <a href="CoreFVs.html#t:InterestingVarFun">InterestingVarFun</a> -&gt; [<a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>] -&gt; [<a href="Var.html#t:Var">Var</a>]</li><li class="src short"><a href="#v:varTypeTyCoVars">varTypeTyCoVars</a> :: <a href="Var.html#t:Var">Var</a> -&gt; <a href="VarSet.html#t:TyCoVarSet">TyCoVarSet</a></li><li class="src short"><a href="#v:varTypeTyCoFVs">varTypeTyCoFVs</a> :: <a href="Var.html#t:Var">Var</a> -&gt; <a href="FV.html#t:FV">FV</a></li><li class="src short"><a href="#v:idUnfoldingVars">idUnfoldingVars</a> :: <a href="Var.html#t:Id">Id</a> -&gt; <a href="VarSet.html#t:VarSet">VarSet</a></li><li class="src short"><a href="#v:idFreeVars">idFreeVars</a> :: <a href="Var.html#t:Id">Id</a> -&gt; <a href="VarSet.html#t:VarSet">VarSet</a></li><li class="src short"><a href="#v:dIdFreeVars">dIdFreeVars</a> :: <a href="Var.html#t:Id">Id</a> -&gt; <a href="VarSet.html#t:DVarSet">DVarSet</a></li><li class="src short"><a href="#v:bndrRuleAndUnfoldingVarsDSet">bndrRuleAndUnfoldingVarsDSet</a> :: <a href="Var.html#t:Id">Id</a> -&gt; <a href="VarSet.html#t:DVarSet">DVarSet</a></li><li class="src short"><a href="#v:idFVs">idFVs</a> :: <a href="Var.html#t:Id">Id</a> -&gt; <a href="FV.html#t:FV">FV</a></li><li class="src short"><a href="#v:idRuleVars">idRuleVars</a> :: <a href="Var.html#t:Id">Id</a> -&gt; <a href="VarSet.html#t:VarSet">VarSet</a></li><li class="src short"><a href="#v:idRuleRhsVars">idRuleRhsVars</a> :: (<a href="BasicTypes.html#t:Activation">Activation</a> -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="Var.html#t:Id">Id</a> -&gt; <a href="VarSet.html#t:VarSet">VarSet</a></li><li class="src short"><a href="#v:stableUnfoldingVars">stableUnfoldingVars</a> :: <a href="CoreSyn.html#t:Unfolding">Unfolding</a> -&gt; <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="VarSet.html#t:VarSet">VarSet</a></li><li class="src short"><a href="#v:ruleRhsFreeVars">ruleRhsFreeVars</a> :: <a href="CoreSyn.html#t:CoreRule">CoreRule</a> -&gt; <a href="VarSet.html#t:VarSet">VarSet</a></li><li class="src short"><a href="#v:ruleFreeVars">ruleFreeVars</a> :: <a href="CoreSyn.html#t:CoreRule">CoreRule</a> -&gt; <a href="VarSet.html#t:VarSet">VarSet</a></li><li class="src short"><a href="#v:rulesFreeVars">rulesFreeVars</a> :: [<a href="CoreSyn.html#t:CoreRule">CoreRule</a>] -&gt; <a href="VarSet.html#t:VarSet">VarSet</a></li><li class="src short"><a href="#v:rulesFreeVarsDSet">rulesFreeVarsDSet</a> :: [<a href="CoreSyn.html#t:CoreRule">CoreRule</a>] -&gt; <a href="VarSet.html#t:DVarSet">DVarSet</a></li><li class="src short"><a href="#v:ruleLhsFreeIds">ruleLhsFreeIds</a> :: <a href="CoreSyn.html#t:CoreRule">CoreRule</a> -&gt; <a href="VarSet.html#t:VarSet">VarSet</a></li><li class="src short"><a href="#v:ruleLhsFreeIdsList">ruleLhsFreeIdsList</a> :: <a href="CoreSyn.html#t:CoreRule">CoreRule</a> -&gt; [<a href="Var.html#t:Var">Var</a>]</li><li class="src short"><a href="#v:vectsFreeVars">vectsFreeVars</a> :: [<a href="CoreSyn.html#t:CoreVect">CoreVect</a>] -&gt; <a href="VarSet.html#t:VarSet">VarSet</a></li><li class="src short"><a href="#v:expr_fvs">expr_fvs</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="FV.html#t:FV">FV</a></li><li class="src short"><a href="#v:orphNamesOfType">orphNamesOfType</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="NameSet.html#t:NameSet">NameSet</a></li><li class="src short"><a href="#v:orphNamesOfCo">orphNamesOfCo</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="NameSet.html#t:NameSet">NameSet</a></li><li class="src short"><a href="#v:orphNamesOfAxiom">orphNamesOfAxiom</a> :: <a href="CoAxiom.html#t:CoAxiom">CoAxiom</a> br -&gt; <a href="NameSet.html#t:NameSet">NameSet</a></li><li class="src short"><a href="#v:orphNamesOfTypes">orphNamesOfTypes</a> :: [<a href="Type.html#t:Type">Type</a>] -&gt; <a href="NameSet.html#t:NameSet">NameSet</a></li><li class="src short"><a href="#v:orphNamesOfCoCon">orphNamesOfCoCon</a> :: <a href="CoAxiom.html#t:CoAxiom">CoAxiom</a> br -&gt; <a href="NameSet.html#t:NameSet">NameSet</a></li><li class="src short"><a href="#v:exprsOrphNames">exprsOrphNames</a> :: [<a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>] -&gt; <a href="NameSet.html#t:NameSet">NameSet</a></li><li class="src short"><a href="#v:orphNamesOfFamInst">orphNamesOfFamInst</a> :: <a href="FamInstEnv.html#t:FamInst">FamInst</a> -&gt; <a href="NameSet.html#t:NameSet">NameSet</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:FVAnn">FVAnn</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:CoreExprWithFVs">CoreExprWithFVs</a> = <a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> <a href="Var.html#t:Id">Id</a> <a href="CoreFVs.html#t:FVAnn">FVAnn</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:CoreExprWithFVs-39-">CoreExprWithFVs'</a> = <a href="CoreSyn.html#t:AnnExpr-39-">AnnExpr'</a> <a href="Var.html#t:Id">Id</a> <a href="CoreFVs.html#t:FVAnn">FVAnn</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:CoreBindWithFVs">CoreBindWithFVs</a> = <a href="CoreSyn.html#t:AnnBind">AnnBind</a> <a href="Var.html#t:Id">Id</a> <a href="CoreFVs.html#t:FVAnn">FVAnn</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:CoreAltWithFVs">CoreAltWithFVs</a> = <a href="CoreSyn.html#t:AnnAlt">AnnAlt</a> <a href="Var.html#t:Id">Id</a> <a href="CoreFVs.html#t:FVAnn">FVAnn</a></li><li class="src short"><a href="#v:freeVars">freeVars</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="CoreFVs.html#t:CoreExprWithFVs">CoreExprWithFVs</a></li><li class="src short"><a href="#v:freeVarsBind">freeVarsBind</a> :: <a href="CoreSyn.html#t:CoreBind">CoreBind</a> -&gt; <a href="VarSet.html#t:DVarSet">DVarSet</a> -&gt; (<a href="CoreFVs.html#t:CoreBindWithFVs">CoreBindWithFVs</a>, <a href="VarSet.html#t:DVarSet">DVarSet</a>)</li><li class="src short"><a href="#v:freeVarsOf">freeVarsOf</a> :: <a href="CoreFVs.html#t:CoreExprWithFVs">CoreExprWithFVs</a> -&gt; <a href="VarSet.html#t:DIdSet">DIdSet</a></li><li class="src short"><a href="#v:freeVarsOfType">freeVarsOfType</a> :: <a href="CoreFVs.html#t:CoreExprWithFVs">CoreExprWithFVs</a> -&gt; <a href="VarSet.html#t:DTyCoVarSet">DTyCoVarSet</a></li><li class="src short"><a href="#v:freeVarsOfAnn">freeVarsOfAnn</a> :: <a href="CoreFVs.html#t:FVAnn">FVAnn</a> -&gt; <a href="VarSet.html#t:DIdSet">DIdSet</a></li><li class="src short"><a href="#v:freeVarsOfTypeAnn">freeVarsOfTypeAnn</a> :: <a href="CoreFVs.html#t:FVAnn">FVAnn</a> -&gt; <a href="VarSet.html#t:DTyCoVarSet">DTyCoVarSet</a></li><li class="src short"><a href="#v:exprTypeFV">exprTypeFV</a> :: <a href="CoreFVs.html#t:CoreExprWithFVs">CoreExprWithFVs</a> -&gt; <a href="Type.html#t:Type">Type</a></li></ul></div><div id="interface"><h1 id="g:1">Free variables of expressions and binding groups</h1><div class="top"><p class="src"><a id="v:exprFreeVars" class="def">exprFreeVars</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="VarSet.html#t:VarSet">VarSet</a> <a href="src/CoreFVs.html#exprFreeVars" class="link">Source</a> <a href="#v:exprFreeVars" class="selflink">#</a></p><div class="doc"><p>Find all locally-defined free Ids or type variables in an expression
 returning a non-deterministic set.</p></div></div><div class="top"><p class="src"><a id="v:exprFreeVarsDSet" class="def">exprFreeVarsDSet</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="VarSet.html#t:DVarSet">DVarSet</a> <a href="src/CoreFVs.html#exprFreeVarsDSet" class="link">Source</a> <a href="#v:exprFreeVarsDSet" class="selflink">#</a></p><div class="doc"><p>Find all locally-defined free Ids or type variables in an expression
 returning a deterministic set.</p></div></div><div class="top"><p class="src"><a id="v:exprFreeVarsList" class="def">exprFreeVarsList</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; [<a href="Var.html#t:Var">Var</a>] <a href="src/CoreFVs.html#exprFreeVarsList" class="link">Source</a> <a href="#v:exprFreeVarsList" class="selflink">#</a></p><div class="doc"><p>Find all locally-defined free Ids or type variables in an expression
 returning a deterministically ordered list.</p></div></div><div class="top"><p class="src"><a id="v:exprFreeIds" class="def">exprFreeIds</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="VarSet.html#t:IdSet">IdSet</a> <a href="src/CoreFVs.html#exprFreeIds" class="link">Source</a> <a href="#v:exprFreeIds" class="selflink">#</a></p><div class="doc"><p>Find all locally-defined free Ids in an expression</p></div></div><div class="top"><p class="src"><a id="v:exprFreeIdsDSet" class="def">exprFreeIdsDSet</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="VarSet.html#t:DIdSet">DIdSet</a> <a href="src/CoreFVs.html#exprFreeIdsDSet" class="link">Source</a> <a href="#v:exprFreeIdsDSet" class="selflink">#</a></p><div class="doc"><p>Find all locally-defined free Ids in an expression
 returning a deterministic set.</p></div></div><div class="top"><p class="src"><a id="v:exprFreeIdsList" class="def">exprFreeIdsList</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; [<a href="Var.html#t:Id">Id</a>] <a href="src/CoreFVs.html#exprFreeIdsList" class="link">Source</a> <a href="#v:exprFreeIdsList" class="selflink">#</a></p><div class="doc"><p>Find all locally-defined free Ids in an expression
 returning a deterministically ordered list.</p></div></div><div class="top"><p class="src"><a id="v:exprsFreeIdsDSet" class="def">exprsFreeIdsDSet</a> :: [<a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>] -&gt; <a href="VarSet.html#t:DIdSet">DIdSet</a> <a href="src/CoreFVs.html#exprsFreeIdsDSet" class="link">Source</a> <a href="#v:exprsFreeIdsDSet" class="selflink">#</a></p><div class="doc"><p>Find all locally-defined free Ids in several expressions
 returning a deterministic set.</p></div></div><div class="top"><p class="src"><a id="v:exprsFreeIdsList" class="def">exprsFreeIdsList</a> :: [<a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>] -&gt; [<a href="Var.html#t:Id">Id</a>] <a href="src/CoreFVs.html#exprsFreeIdsList" class="link">Source</a> <a href="#v:exprsFreeIdsList" class="selflink">#</a></p><div class="doc"><p>Find all locally-defined free Ids in several expressions
 returning a deterministically ordered list.</p></div></div><div class="top"><p class="src"><a id="v:exprsFreeVars" class="def">exprsFreeVars</a> :: [<a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>] -&gt; <a href="VarSet.html#t:VarSet">VarSet</a> <a href="src/CoreFVs.html#exprsFreeVars" class="link">Source</a> <a href="#v:exprsFreeVars" class="selflink">#</a></p><div class="doc"><p>Find all locally-defined free Ids or type variables in several expressions
 returning a non-deterministic set.</p></div></div><div class="top"><p class="src"><a id="v:exprsFreeVarsList" class="def">exprsFreeVarsList</a> :: [<a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>] -&gt; [<a href="Var.html#t:Var">Var</a>] <a href="src/CoreFVs.html#exprsFreeVarsList" class="link">Source</a> <a href="#v:exprsFreeVarsList" class="selflink">#</a></p><div class="doc"><p>Find all locally-defined free Ids or type variables in several expressions
 returning a deterministically ordered list.</p></div></div><div class="top"><p class="src"><a id="v:bindFreeVars" class="def">bindFreeVars</a> :: <a href="CoreSyn.html#t:CoreBind">CoreBind</a> -&gt; <a href="VarSet.html#t:VarSet">VarSet</a> <a href="src/CoreFVs.html#bindFreeVars" class="link">Source</a> <a href="#v:bindFreeVars" class="selflink">#</a></p><div class="doc"><p>Find all locally defined free Ids in a binding group</p></div></div><h1 id="g:2">Selective free variables of expressions</h1><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:InterestingVarFun" class="def">InterestingVarFun</a> = <a href="Var.html#t:Var">Var</a> -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/FV.html#InterestingVarFun" class="link">Source</a> <a href="#t:InterestingVarFun" class="selflink">#</a></p><div class="doc"><p>Predicate on possible free variables: returns <code>True</code> iff the variable is
 interesting</p></div></div><div class="top"><p class="src"><a id="v:exprSomeFreeVars" class="def">exprSomeFreeVars</a> <a href="src/CoreFVs.html#exprSomeFreeVars" class="link">Source</a> <a href="#v:exprSomeFreeVars" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="CoreFVs.html#t:InterestingVarFun">InterestingVarFun</a></td><td class="doc"><p>Says which <code><a href="Var.html#t:Var">Var</a></code>s are interesting</p></td></tr><tr><td class="src">-&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="VarSet.html#t:VarSet">VarSet</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Finds free variables in an expression selected by a predicate</p></div></div><div class="top"><p class="src"><a id="v:exprsSomeFreeVars" class="def">exprsSomeFreeVars</a> :: <a href="CoreFVs.html#t:InterestingVarFun">InterestingVarFun</a> -&gt; [<a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>] -&gt; <a href="VarSet.html#t:VarSet">VarSet</a> <a href="src/CoreFVs.html#exprsSomeFreeVars" class="link">Source</a> <a href="#v:exprsSomeFreeVars" class="selflink">#</a></p><div class="doc"><p>Finds free variables in several expressions selected by a predicate</p></div></div><div class="top"><p class="src"><a id="v:exprSomeFreeVarsList" class="def">exprSomeFreeVarsList</a> <a href="src/CoreFVs.html#exprSomeFreeVarsList" class="link">Source</a> <a href="#v:exprSomeFreeVarsList" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="CoreFVs.html#t:InterestingVarFun">InterestingVarFun</a></td><td class="doc"><p>Says which <code><a href="Var.html#t:Var">Var</a></code>s are interesting</p></td></tr><tr><td class="src">-&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; [<a href="Var.html#t:Var">Var</a>]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Finds free variables in an expression selected by a predicate
 returning a deterministically ordered list.</p></div></div><div class="top"><p class="src"><a id="v:exprsSomeFreeVarsList" class="def">exprsSomeFreeVarsList</a> :: <a href="CoreFVs.html#t:InterestingVarFun">InterestingVarFun</a> -&gt; [<a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>] -&gt; [<a href="Var.html#t:Var">Var</a>] <a href="src/CoreFVs.html#exprsSomeFreeVarsList" class="link">Source</a> <a href="#v:exprsSomeFreeVarsList" class="selflink">#</a></p><div class="doc"><p>Finds free variables in several expressions selected by a predicate
 returning a deterministically ordered list.</p></div></div><h1 id="g:3">Free variables of Rules, Vars and Ids</h1><div class="top"><p class="src"><a id="v:varTypeTyCoVars" class="def">varTypeTyCoVars</a> :: <a href="Var.html#t:Var">Var</a> -&gt; <a href="VarSet.html#t:TyCoVarSet">TyCoVarSet</a> <a href="src/CoreFVs.html#varTypeTyCoVars" class="link">Source</a> <a href="#v:varTypeTyCoVars" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:varTypeTyCoFVs" class="def">varTypeTyCoFVs</a> :: <a href="Var.html#t:Var">Var</a> -&gt; <a href="FV.html#t:FV">FV</a> <a href="src/CoreFVs.html#varTypeTyCoFVs" class="link">Source</a> <a href="#v:varTypeTyCoFVs" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:idUnfoldingVars" class="def">idUnfoldingVars</a> :: <a href="Var.html#t:Id">Id</a> -&gt; <a href="VarSet.html#t:VarSet">VarSet</a> <a href="src/CoreFVs.html#idUnfoldingVars" class="link">Source</a> <a href="#v:idUnfoldingVars" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:idFreeVars" class="def">idFreeVars</a> :: <a href="Var.html#t:Id">Id</a> -&gt; <a href="VarSet.html#t:VarSet">VarSet</a> <a href="src/CoreFVs.html#idFreeVars" class="link">Source</a> <a href="#v:idFreeVars" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:dIdFreeVars" class="def">dIdFreeVars</a> :: <a href="Var.html#t:Id">Id</a> -&gt; <a href="VarSet.html#t:DVarSet">DVarSet</a> <a href="src/CoreFVs.html#dIdFreeVars" class="link">Source</a> <a href="#v:dIdFreeVars" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:bndrRuleAndUnfoldingVarsDSet" class="def">bndrRuleAndUnfoldingVarsDSet</a> :: <a href="Var.html#t:Id">Id</a> -&gt; <a href="VarSet.html#t:DVarSet">DVarSet</a> <a href="src/CoreFVs.html#bndrRuleAndUnfoldingVarsDSet" class="link">Source</a> <a href="#v:bndrRuleAndUnfoldingVarsDSet" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:idFVs" class="def">idFVs</a> :: <a href="Var.html#t:Id">Id</a> -&gt; <a href="FV.html#t:FV">FV</a> <a href="src/CoreFVs.html#idFVs" class="link">Source</a> <a href="#v:idFVs" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:idRuleVars" class="def">idRuleVars</a> :: <a href="Var.html#t:Id">Id</a> -&gt; <a href="VarSet.html#t:VarSet">VarSet</a> <a href="src/CoreFVs.html#idRuleVars" class="link">Source</a> <a href="#v:idRuleVars" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:idRuleRhsVars" class="def">idRuleRhsVars</a> :: (<a href="BasicTypes.html#t:Activation">Activation</a> -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="Var.html#t:Id">Id</a> -&gt; <a href="VarSet.html#t:VarSet">VarSet</a> <a href="src/CoreFVs.html#idRuleRhsVars" class="link">Source</a> <a href="#v:idRuleRhsVars" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:stableUnfoldingVars" class="def">stableUnfoldingVars</a> :: <a href="CoreSyn.html#t:Unfolding">Unfolding</a> -&gt; <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="VarSet.html#t:VarSet">VarSet</a> <a href="src/CoreFVs.html#stableUnfoldingVars" class="link">Source</a> <a href="#v:stableUnfoldingVars" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:ruleRhsFreeVars" class="def">ruleRhsFreeVars</a> :: <a href="CoreSyn.html#t:CoreRule">CoreRule</a> -&gt; <a href="VarSet.html#t:VarSet">VarSet</a> <a href="src/CoreFVs.html#ruleRhsFreeVars" class="link">Source</a> <a href="#v:ruleRhsFreeVars" class="selflink">#</a></p><div class="doc"><p>Those variables free in the right hand side of a rule returned as a
 non-deterministic set</p></div></div><div class="top"><p class="src"><a id="v:ruleFreeVars" class="def">ruleFreeVars</a> :: <a href="CoreSyn.html#t:CoreRule">CoreRule</a> -&gt; <a href="VarSet.html#t:VarSet">VarSet</a> <a href="src/CoreFVs.html#ruleFreeVars" class="link">Source</a> <a href="#v:ruleFreeVars" class="selflink">#</a></p><div class="doc"><p>Those variables free in the both the left right hand sides of a rule
 returned as a non-deterministic set</p></div></div><div class="top"><p class="src"><a id="v:rulesFreeVars" class="def">rulesFreeVars</a> :: [<a href="CoreSyn.html#t:CoreRule">CoreRule</a>] -&gt; <a href="VarSet.html#t:VarSet">VarSet</a> <a href="src/CoreFVs.html#rulesFreeVars" class="link">Source</a> <a href="#v:rulesFreeVars" class="selflink">#</a></p><div class="doc"><p>Those variables free in the right hand side of several rules</p></div></div><div class="top"><p class="src"><a id="v:rulesFreeVarsDSet" class="def">rulesFreeVarsDSet</a> :: [<a href="CoreSyn.html#t:CoreRule">CoreRule</a>] -&gt; <a href="VarSet.html#t:DVarSet">DVarSet</a> <a href="src/CoreFVs.html#rulesFreeVarsDSet" class="link">Source</a> <a href="#v:rulesFreeVarsDSet" class="selflink">#</a></p><div class="doc"><p>Those variables free in the both the left right hand sides of rules
 returned as a deterministic set</p></div></div><div class="top"><p class="src"><a id="v:ruleLhsFreeIds" class="def">ruleLhsFreeIds</a> :: <a href="CoreSyn.html#t:CoreRule">CoreRule</a> -&gt; <a href="VarSet.html#t:VarSet">VarSet</a> <a href="src/CoreFVs.html#ruleLhsFreeIds" class="link">Source</a> <a href="#v:ruleLhsFreeIds" class="selflink">#</a></p><div class="doc"><p>This finds all locally-defined free Ids on the left hand side of a rule
 and returns them as a non-deterministic set</p></div></div><div class="top"><p class="src"><a id="v:ruleLhsFreeIdsList" class="def">ruleLhsFreeIdsList</a> :: <a href="CoreSyn.html#t:CoreRule">CoreRule</a> -&gt; [<a href="Var.html#t:Var">Var</a>] <a href="src/CoreFVs.html#ruleLhsFreeIdsList" class="link">Source</a> <a href="#v:ruleLhsFreeIdsList" class="selflink">#</a></p><div class="doc"><p>This finds all locally-defined free Ids on the left hand side of a rule
 and returns them as a determinisitcally ordered list</p></div></div><div class="top"><p class="src"><a id="v:vectsFreeVars" class="def">vectsFreeVars</a> :: [<a href="CoreSyn.html#t:CoreVect">CoreVect</a>] -&gt; <a href="VarSet.html#t:VarSet">VarSet</a> <a href="src/CoreFVs.html#vectsFreeVars" class="link">Source</a> <a href="#v:vectsFreeVars" class="selflink">#</a></p><div class="doc"><p>Free variables of a vectorisation declaration</p></div></div><div class="top"><p class="src"><a id="v:expr_fvs" class="def">expr_fvs</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="FV.html#t:FV">FV</a> <a href="src/CoreFVs.html#expr_fvs" class="link">Source</a> <a href="#v:expr_fvs" class="selflink">#</a></p></div><h1 id="g:4">Orphan names</h1><div class="top"><p class="src"><a id="v:orphNamesOfType" class="def">orphNamesOfType</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="NameSet.html#t:NameSet">NameSet</a> <a href="src/CoreFVs.html#orphNamesOfType" class="link">Source</a> <a href="#v:orphNamesOfType" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:orphNamesOfCo" class="def">orphNamesOfCo</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="NameSet.html#t:NameSet">NameSet</a> <a href="src/CoreFVs.html#orphNamesOfCo" class="link">Source</a> <a href="#v:orphNamesOfCo" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:orphNamesOfAxiom" class="def">orphNamesOfAxiom</a> :: <a href="CoAxiom.html#t:CoAxiom">CoAxiom</a> br -&gt; <a href="NameSet.html#t:NameSet">NameSet</a> <a href="src/CoreFVs.html#orphNamesOfAxiom" class="link">Source</a> <a href="#v:orphNamesOfAxiom" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:orphNamesOfTypes" class="def">orphNamesOfTypes</a> :: [<a href="Type.html#t:Type">Type</a>] -&gt; <a href="NameSet.html#t:NameSet">NameSet</a> <a href="src/CoreFVs.html#orphNamesOfTypes" class="link">Source</a> <a href="#v:orphNamesOfTypes" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:orphNamesOfCoCon" class="def">orphNamesOfCoCon</a> :: <a href="CoAxiom.html#t:CoAxiom">CoAxiom</a> br -&gt; <a href="NameSet.html#t:NameSet">NameSet</a> <a href="src/CoreFVs.html#orphNamesOfCoCon" class="link">Source</a> <a href="#v:orphNamesOfCoCon" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:exprsOrphNames" class="def">exprsOrphNames</a> :: [<a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>] -&gt; <a href="NameSet.html#t:NameSet">NameSet</a> <a href="src/CoreFVs.html#exprsOrphNames" class="link">Source</a> <a href="#v:exprsOrphNames" class="selflink">#</a></p><div class="doc"><p>Finds the free <em>external</em> names of several expressions: see <code>exprOrphNames</code> for details</p></div></div><div class="top"><p class="src"><a id="v:orphNamesOfFamInst" class="def">orphNamesOfFamInst</a> :: <a href="FamInstEnv.html#t:FamInst">FamInst</a> -&gt; <a href="NameSet.html#t:NameSet">NameSet</a> <a href="src/CoreFVs.html#orphNamesOfFamInst" class="link">Source</a> <a href="#v:orphNamesOfFamInst" class="selflink">#</a></p><div class="doc"><p>orphNamesOfAxiom collects the names of the concrete types and
 type constructors that make up the LHS of a type family instance,
 including the family name itself.</p><p>For instance, given `type family Foo a b`:
 `type instance Foo (F (G (H a))) b = ...` would yield [Foo,F,G,H]</p><p>Used in the implementation of &quot;:info&quot; in GHCi.</p></div></div><h1 id="g:5">Core syntax tree annotation with free variables</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:FVAnn" class="def">FVAnn</a> <a href="src/CoreFVs.html#FVAnn" class="link">Source</a> <a href="#t:FVAnn" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:CoreExprWithFVs" class="def">CoreExprWithFVs</a> = <a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> <a href="Var.html#t:Id">Id</a> <a href="CoreFVs.html#t:FVAnn">FVAnn</a> <a href="src/CoreFVs.html#CoreExprWithFVs" class="link">Source</a> <a href="#t:CoreExprWithFVs" class="selflink">#</a></p><div class="doc"><p>Every node in an expression annotated with its
 (non-global) free variables, both Ids and TyVars, and type.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:CoreExprWithFVs-39-" class="def">CoreExprWithFVs'</a> = <a href="CoreSyn.html#t:AnnExpr-39-">AnnExpr'</a> <a href="Var.html#t:Id">Id</a> <a href="CoreFVs.html#t:FVAnn">FVAnn</a> <a href="src/CoreFVs.html#CoreExprWithFVs%27" class="link">Source</a> <a href="#t:CoreExprWithFVs-39-" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:CoreBindWithFVs" class="def">CoreBindWithFVs</a> = <a href="CoreSyn.html#t:AnnBind">AnnBind</a> <a href="Var.html#t:Id">Id</a> <a href="CoreFVs.html#t:FVAnn">FVAnn</a> <a href="src/CoreFVs.html#CoreBindWithFVs" class="link">Source</a> <a href="#t:CoreBindWithFVs" class="selflink">#</a></p><div class="doc"><p>Every node in a binding group annotated with its
 (non-global) free variables, both Ids and TyVars, and type.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:CoreAltWithFVs" class="def">CoreAltWithFVs</a> = <a href="CoreSyn.html#t:AnnAlt">AnnAlt</a> <a href="Var.html#t:Id">Id</a> <a href="CoreFVs.html#t:FVAnn">FVAnn</a> <a href="src/CoreFVs.html#CoreAltWithFVs" class="link">Source</a> <a href="#t:CoreAltWithFVs" class="selflink">#</a></p><div class="doc"><p>Every node in an expression annotated with its
 (non-global) free variables, both Ids and TyVars, and type.</p></div></div><div class="top"><p class="src"><a id="v:freeVars" class="def">freeVars</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="CoreFVs.html#t:CoreExprWithFVs">CoreExprWithFVs</a> <a href="src/CoreFVs.html#freeVars" class="link">Source</a> <a href="#v:freeVars" class="selflink">#</a></p><div class="doc"><p>Annotate a <code><a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></code> with its (non-global) free type and value variables at every tree node</p></div></div><div class="top"><p class="src"><a id="v:freeVarsBind" class="def">freeVarsBind</a> :: <a href="CoreSyn.html#t:CoreBind">CoreBind</a> -&gt; <a href="VarSet.html#t:DVarSet">DVarSet</a> -&gt; (<a href="CoreFVs.html#t:CoreBindWithFVs">CoreBindWithFVs</a>, <a href="VarSet.html#t:DVarSet">DVarSet</a>) <a href="src/CoreFVs.html#freeVarsBind" class="link">Source</a> <a href="#v:freeVarsBind" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:freeVarsOf" class="def">freeVarsOf</a> :: <a href="CoreFVs.html#t:CoreExprWithFVs">CoreExprWithFVs</a> -&gt; <a href="VarSet.html#t:DIdSet">DIdSet</a> <a href="src/CoreFVs.html#freeVarsOf" class="link">Source</a> <a href="#v:freeVarsOf" class="selflink">#</a></p><div class="doc"><p>Inverse function to <code><a href="CoreFVs.html#v:freeVars">freeVars</a></code></p></div></div><div class="top"><p class="src"><a id="v:freeVarsOfType" class="def">freeVarsOfType</a> :: <a href="CoreFVs.html#t:CoreExprWithFVs">CoreExprWithFVs</a> -&gt; <a href="VarSet.html#t:DTyCoVarSet">DTyCoVarSet</a> <a href="src/CoreFVs.html#freeVarsOfType" class="link">Source</a> <a href="#v:freeVarsOfType" class="selflink">#</a></p><div class="doc"><p>Extract the vars free in an annotated expression's type</p></div></div><div class="top"><p class="src"><a id="v:freeVarsOfAnn" class="def">freeVarsOfAnn</a> :: <a href="CoreFVs.html#t:FVAnn">FVAnn</a> -&gt; <a href="VarSet.html#t:DIdSet">DIdSet</a> <a href="src/CoreFVs.html#freeVarsOfAnn" class="link">Source</a> <a href="#v:freeVarsOfAnn" class="selflink">#</a></p><div class="doc"><p>Extract the vars reported in a FVAnn</p></div></div><div class="top"><p class="src"><a id="v:freeVarsOfTypeAnn" class="def">freeVarsOfTypeAnn</a> :: <a href="CoreFVs.html#t:FVAnn">FVAnn</a> -&gt; <a href="VarSet.html#t:DTyCoVarSet">DTyCoVarSet</a> <a href="src/CoreFVs.html#freeVarsOfTypeAnn" class="link">Source</a> <a href="#v:freeVarsOfTypeAnn" class="selflink">#</a></p><div class="doc"><p>Extract the type-level vars reported in a FVAnn</p></div></div><div class="top"><p class="src"><a id="v:exprTypeFV" class="def">exprTypeFV</a> :: <a href="CoreFVs.html#t:CoreExprWithFVs">CoreExprWithFVs</a> -&gt; <a href="Type.html#t:Type">Type</a> <a href="src/CoreFVs.html#exprTypeFV" class="link">Source</a> <a href="#v:exprTypeFV" class="selflink">#</a></p><div class="doc"><p>Extract the type of an annotated expression. (This is cheap.)</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.18.1</p></div></body></html>