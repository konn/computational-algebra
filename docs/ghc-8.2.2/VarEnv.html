<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>VarEnv</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/VarEnv.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">ghc-8.2.2: The GHC API</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">VarEnv</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Var, Id and TyVar environments (maps)</a><ul><li><a href="#g:2">Manipulating these environments</a></li></ul></li><li><a href="#g:3">Deterministic Var environments (maps)</a><ul><li><a href="#g:4">Manipulating these environments</a></li></ul></li><li><a href="#g:5">The InScopeSet type</a><ul><li><a href="#g:6">Operations on InScopeSets</a></li></ul></li><li><a href="#g:7">The RnEnv2 type</a><ul><li><a href="#g:8">Operations on RnEnv2s</a></li></ul></li><li><a href="#g:9">TidyEnv and its operation</a></li></ul></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">type</span> <a href="#t:VarEnv">VarEnv</a> elt = <a href="UniqFM.html#t:UniqFM">UniqFM</a> elt</li><li class="src short"><span class="keyword">type</span> <a href="#t:IdEnv">IdEnv</a> elt = <a href="VarEnv.html#t:VarEnv">VarEnv</a> elt</li><li class="src short"><span class="keyword">type</span> <a href="#t:TyVarEnv">TyVarEnv</a> elt = <a href="VarEnv.html#t:VarEnv">VarEnv</a> elt</li><li class="src short"><span class="keyword">type</span> <a href="#t:CoVarEnv">CoVarEnv</a> elt = <a href="VarEnv.html#t:VarEnv">VarEnv</a> elt</li><li class="src short"><span class="keyword">type</span> <a href="#t:TyCoVarEnv">TyCoVarEnv</a> elt = <a href="VarEnv.html#t:VarEnv">VarEnv</a> elt</li><li class="src short"><a href="#v:emptyVarEnv">emptyVarEnv</a> :: <a href="VarEnv.html#t:VarEnv">VarEnv</a> a</li><li class="src short"><a href="#v:unitVarEnv">unitVarEnv</a> :: <a href="Var.html#t:Var">Var</a> -&gt; a -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a</li><li class="src short"><a href="#v:mkVarEnv">mkVarEnv</a> :: [(<a href="Var.html#t:Var">Var</a>, a)] -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a</li><li class="src short"><a href="#v:mkVarEnv_Directly">mkVarEnv_Directly</a> :: [(<a href="Unique.html#t:Unique">Unique</a>, a)] -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a</li><li class="src short"><a href="#v:elemVarEnv">elemVarEnv</a> :: <a href="Var.html#t:Var">Var</a> -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:disjointVarEnv">disjointVarEnv</a> :: <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:extendVarEnv">extendVarEnv</a> :: <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="Var.html#t:Var">Var</a> -&gt; a -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a</li><li class="src short"><a href="#v:extendVarEnv_C">extendVarEnv_C</a> :: (a -&gt; a -&gt; a) -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="Var.html#t:Var">Var</a> -&gt; a -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a</li><li class="src short"><a href="#v:extendVarEnv_Acc">extendVarEnv_Acc</a> :: (a -&gt; b -&gt; b) -&gt; (a -&gt; b) -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> b -&gt; <a href="Var.html#t:Var">Var</a> -&gt; a -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> b</li><li class="src short"><a href="#v:extendVarEnv_Directly">extendVarEnv_Directly</a> :: <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="Unique.html#t:Unique">Unique</a> -&gt; a -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a</li><li class="src short"><a href="#v:extendVarEnvList">extendVarEnvList</a> :: <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; [(<a href="Var.html#t:Var">Var</a>, a)] -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a</li><li class="src short"><a href="#v:plusVarEnv">plusVarEnv</a> :: <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a</li><li class="src short"><a href="#v:plusVarEnv_C">plusVarEnv_C</a> :: (a -&gt; a -&gt; a) -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a</li><li class="src short"><a href="#v:plusVarEnv_CD">plusVarEnv_CD</a> :: (a -&gt; a -&gt; a) -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; a -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; a -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a</li><li class="src short"><a href="#v:plusMaybeVarEnv_C">plusMaybeVarEnv_C</a> :: (a -&gt; a -&gt; <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> a) -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a</li><li class="src short"><a href="#v:plusVarEnvList">plusVarEnvList</a> :: [<a href="VarEnv.html#t:VarEnv">VarEnv</a> a] -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a</li><li class="src short"><a href="#v:alterVarEnv">alterVarEnv</a> :: (<a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> a -&gt; <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> a) -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a</li><li class="src short"><a href="#v:delVarEnvList">delVarEnvList</a> :: <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; [<a href="Var.html#t:Var">Var</a>] -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a</li><li class="src short"><a href="#v:delVarEnv">delVarEnv</a> :: <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a</li><li class="src short"><a href="#v:delVarEnv_Directly">delVarEnv_Directly</a> :: <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="Unique.html#t:Unique">Unique</a> -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a</li><li class="src short"><a href="#v:minusVarEnv">minusVarEnv</a> :: <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> b -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a</li><li class="src short"><a href="#v:intersectsVarEnv">intersectsVarEnv</a> :: <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:lookupVarEnv">lookupVarEnv</a> :: <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> a</li><li class="src short"><a href="#v:lookupVarEnv_NF">lookupVarEnv_NF</a> :: <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="Var.html#t:Var">Var</a> -&gt; a</li><li class="src short"><a href="#v:lookupWithDefaultVarEnv">lookupWithDefaultVarEnv</a> :: <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; a -&gt; <a href="Var.html#t:Var">Var</a> -&gt; a</li><li class="src short"><a href="#v:mapVarEnv">mapVarEnv</a> :: (a -&gt; b) -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> b</li><li class="src short"><a href="#v:zipVarEnv">zipVarEnv</a> :: [<a href="Var.html#t:Var">Var</a>] -&gt; [a] -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a</li><li class="src short"><a href="#v:modifyVarEnv">modifyVarEnv</a> :: (a -&gt; a) -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a</li><li class="src short"><a href="#v:modifyVarEnv_Directly">modifyVarEnv_Directly</a> :: (a -&gt; a) -&gt; <a href="UniqFM.html#t:UniqFM">UniqFM</a> a -&gt; <a href="Unique.html#t:Unique">Unique</a> -&gt; <a href="UniqFM.html#t:UniqFM">UniqFM</a> a</li><li class="src short"><a href="#v:isEmptyVarEnv">isEmptyVarEnv</a> :: <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:elemVarEnvByKey">elemVarEnvByKey</a> :: <a href="Unique.html#t:Unique">Unique</a> -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:lookupVarEnv_Directly">lookupVarEnv_Directly</a> :: <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="Unique.html#t:Unique">Unique</a> -&gt; <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> a</li><li class="src short"><a href="#v:filterVarEnv">filterVarEnv</a> :: (a -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a</li><li class="src short"><a href="#v:filterVarEnv_Directly">filterVarEnv_Directly</a> :: (<a href="Unique.html#t:Unique">Unique</a> -&gt; a -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a</li><li class="src short"><a href="#v:restrictVarEnv">restrictVarEnv</a> :: <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="VarSet.html#t:VarSet">VarSet</a> -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a</li><li class="src short"><a href="#v:partitionVarEnv">partitionVarEnv</a> :: (a -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; (<a href="VarEnv.html#t:VarEnv">VarEnv</a> a, <a href="VarEnv.html#t:VarEnv">VarEnv</a> a)</li><li class="src short"><span class="keyword">type</span> <a href="#t:DVarEnv">DVarEnv</a> elt = <a href="UniqDFM.html#t:UniqDFM">UniqDFM</a> elt</li><li class="src short"><span class="keyword">type</span> <a href="#t:DIdEnv">DIdEnv</a> elt = <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> elt</li><li class="src short"><span class="keyword">type</span> <a href="#t:DTyVarEnv">DTyVarEnv</a> elt = <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> elt</li><li class="src short"><a href="#v:emptyDVarEnv">emptyDVarEnv</a> :: <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a</li><li class="src short"><a href="#v:mkDVarEnv">mkDVarEnv</a> :: [(<a href="Var.html#t:Var">Var</a>, a)] -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a</li><li class="src short"><a href="#v:dVarEnvElts">dVarEnvElts</a> :: <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a -&gt; [a]</li><li class="src short"><a href="#v:extendDVarEnv">extendDVarEnv</a> :: <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a -&gt; <a href="Var.html#t:Var">Var</a> -&gt; a -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a</li><li class="src short"><a href="#v:extendDVarEnv_C">extendDVarEnv_C</a> :: (a -&gt; a -&gt; a) -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a -&gt; <a href="Var.html#t:Var">Var</a> -&gt; a -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a</li><li class="src short"><a href="#v:extendDVarEnvList">extendDVarEnvList</a> :: <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a -&gt; [(<a href="Var.html#t:Var">Var</a>, a)] -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a</li><li class="src short"><a href="#v:lookupDVarEnv">lookupDVarEnv</a> :: <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> a</li><li class="src short"><a href="#v:elemDVarEnv">elemDVarEnv</a> :: <a href="Var.html#t:Var">Var</a> -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:isEmptyDVarEnv">isEmptyDVarEnv</a> :: <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:foldDVarEnv">foldDVarEnv</a> :: (a -&gt; b -&gt; b) -&gt; b -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a -&gt; b</li><li class="src short"><a href="#v:mapDVarEnv">mapDVarEnv</a> :: (a -&gt; b) -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> b</li><li class="src short"><a href="#v:modifyDVarEnv">modifyDVarEnv</a> :: (a -&gt; a) -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a</li><li class="src short"><a href="#v:alterDVarEnv">alterDVarEnv</a> :: (<a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> a -&gt; <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> a) -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a</li><li class="src short"><a href="#v:plusDVarEnv">plusDVarEnv</a> :: <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a</li><li class="src short"><a href="#v:plusDVarEnv_C">plusDVarEnv_C</a> :: (a -&gt; a -&gt; a) -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a</li><li class="src short"><a href="#v:unitDVarEnv">unitDVarEnv</a> :: <a href="Var.html#t:Var">Var</a> -&gt; a -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a</li><li class="src short"><a href="#v:delDVarEnv">delDVarEnv</a> :: <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a</li><li class="src short"><a href="#v:delDVarEnvList">delDVarEnvList</a> :: <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a -&gt; [<a href="Var.html#t:Var">Var</a>] -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a</li><li class="src short"><a href="#v:minusDVarEnv">minusDVarEnv</a> :: <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a' -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a</li><li class="src short"><a href="#v:partitionDVarEnv">partitionDVarEnv</a> :: (a -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a -&gt; (<a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a, <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a)</li><li class="src short"><a href="#v:anyDVarEnv">anyDVarEnv</a> :: (a -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:InScopeSet">InScopeSet</a></li><li class="src short"><a href="#v:emptyInScopeSet">emptyInScopeSet</a> :: <a href="VarEnv.html#t:InScopeSet">InScopeSet</a></li><li class="src short"><a href="#v:mkInScopeSet">mkInScopeSet</a> :: <a href="VarSet.html#t:VarSet">VarSet</a> -&gt; <a href="VarEnv.html#t:InScopeSet">InScopeSet</a></li><li class="src short"><a href="#v:delInScopeSet">delInScopeSet</a> :: <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="VarEnv.html#t:InScopeSet">InScopeSet</a></li><li class="src short"><a href="#v:extendInScopeSet">extendInScopeSet</a> :: <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="VarEnv.html#t:InScopeSet">InScopeSet</a></li><li class="src short"><a href="#v:extendInScopeSetList">extendInScopeSetList</a> :: <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> -&gt; [<a href="Var.html#t:Var">Var</a>] -&gt; <a href="VarEnv.html#t:InScopeSet">InScopeSet</a></li><li class="src short"><a href="#v:extendInScopeSetSet">extendInScopeSetSet</a> :: <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> -&gt; <a href="VarSet.html#t:VarSet">VarSet</a> -&gt; <a href="VarEnv.html#t:InScopeSet">InScopeSet</a></li><li class="src short"><a href="#v:getInScopeVars">getInScopeVars</a> :: <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> -&gt; <a href="VarSet.html#t:VarSet">VarSet</a></li><li class="src short"><a href="#v:lookupInScope">lookupInScope</a> :: <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Var.html#t:Var">Var</a></li><li class="src short"><a href="#v:lookupInScope_Directly">lookupInScope_Directly</a> :: <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> -&gt; <a href="Unique.html#t:Unique">Unique</a> -&gt; <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Var.html#t:Var">Var</a></li><li class="src short"><a href="#v:unionInScope">unionInScope</a> :: <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> -&gt; <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> -&gt; <a href="VarEnv.html#t:InScopeSet">InScopeSet</a></li><li class="src short"><a href="#v:elemInScopeSet">elemInScopeSet</a> :: <a href="Var.html#t:Var">Var</a> -&gt; <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:uniqAway">uniqAway</a> :: <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="Var.html#t:Var">Var</a></li><li class="src short"><a href="#v:varSetInScope">varSetInScope</a> :: <a href="VarSet.html#t:VarSet">VarSet</a> -&gt; <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:RnEnv2">RnEnv2</a></li><li class="src short"><a href="#v:mkRnEnv2">mkRnEnv2</a> :: <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> -&gt; <a href="VarEnv.html#t:RnEnv2">RnEnv2</a></li><li class="src short"><a href="#v:rnBndr2">rnBndr2</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="VarEnv.html#t:RnEnv2">RnEnv2</a></li><li class="src short"><a href="#v:rnBndrs2">rnBndrs2</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; [<a href="Var.html#t:Var">Var</a>] -&gt; [<a href="Var.html#t:Var">Var</a>] -&gt; <a href="VarEnv.html#t:RnEnv2">RnEnv2</a></li><li class="src short"><a href="#v:rnBndr2_var">rnBndr2_var</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; (<a href="VarEnv.html#t:RnEnv2">RnEnv2</a>, <a href="Var.html#t:Var">Var</a>)</li><li class="src short"><a href="#v:rnOccL">rnOccL</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="Var.html#t:Var">Var</a></li><li class="src short"><a href="#v:rnOccR">rnOccR</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="Var.html#t:Var">Var</a></li><li class="src short"><a href="#v:inRnEnvL">inRnEnvL</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:inRnEnvR">inRnEnvR</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:rnOccL_maybe">rnOccL_maybe</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Var.html#t:Var">Var</a></li><li class="src short"><a href="#v:rnOccR_maybe">rnOccR_maybe</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Var.html#t:Var">Var</a></li><li class="src short"><a href="#v:rnBndrL">rnBndrL</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; (<a href="VarEnv.html#t:RnEnv2">RnEnv2</a>, <a href="Var.html#t:Var">Var</a>)</li><li class="src short"><a href="#v:rnBndrR">rnBndrR</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; (<a href="VarEnv.html#t:RnEnv2">RnEnv2</a>, <a href="Var.html#t:Var">Var</a>)</li><li class="src short"><a href="#v:nukeRnEnvL">nukeRnEnvL</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="VarEnv.html#t:RnEnv2">RnEnv2</a></li><li class="src short"><a href="#v:nukeRnEnvR">nukeRnEnvR</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="VarEnv.html#t:RnEnv2">RnEnv2</a></li><li class="src short"><a href="#v:rnSwap">rnSwap</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="VarEnv.html#t:RnEnv2">RnEnv2</a></li><li class="src short"><a href="#v:delBndrL">delBndrL</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="VarEnv.html#t:RnEnv2">RnEnv2</a></li><li class="src short"><a href="#v:delBndrR">delBndrR</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="VarEnv.html#t:RnEnv2">RnEnv2</a></li><li class="src short"><a href="#v:delBndrsL">delBndrsL</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; [<a href="Var.html#t:Var">Var</a>] -&gt; <a href="VarEnv.html#t:RnEnv2">RnEnv2</a></li><li class="src short"><a href="#v:delBndrsR">delBndrsR</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; [<a href="Var.html#t:Var">Var</a>] -&gt; <a href="VarEnv.html#t:RnEnv2">RnEnv2</a></li><li class="src short"><a href="#v:addRnInScopeSet">addRnInScopeSet</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="VarSet.html#t:VarSet">VarSet</a> -&gt; <a href="VarEnv.html#t:RnEnv2">RnEnv2</a></li><li class="src short"><a href="#v:rnEtaL">rnEtaL</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; (<a href="VarEnv.html#t:RnEnv2">RnEnv2</a>, <a href="Var.html#t:Var">Var</a>)</li><li class="src short"><a href="#v:rnEtaR">rnEtaR</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; (<a href="VarEnv.html#t:RnEnv2">RnEnv2</a>, <a href="Var.html#t:Var">Var</a>)</li><li class="src short"><a href="#v:rnInScope">rnInScope</a> :: <a href="Var.html#t:Var">Var</a> -&gt; <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:rnInScopeSet">rnInScopeSet</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="VarEnv.html#t:InScopeSet">InScopeSet</a></li><li class="src short"><a href="#v:lookupRnInScope">lookupRnInScope</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="Var.html#t:Var">Var</a></li><li class="src short"><a href="#v:rnEnvL">rnEnvL</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> <a href="Var.html#t:Var">Var</a></li><li class="src short"><a href="#v:rnEnvR">rnEnvR</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> <a href="Var.html#t:Var">Var</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:TidyEnv">TidyEnv</a> = (<a href="OccName.html#t:TidyOccEnv">TidyOccEnv</a>, <a href="VarEnv.html#t:VarEnv">VarEnv</a> <a href="Var.html#t:Var">Var</a>)</li><li class="src short"><a href="#v:emptyTidyEnv">emptyTidyEnv</a> :: <a href="VarEnv.html#t:TidyEnv">TidyEnv</a></li></ul></div><div id="interface"><h1 id="g:1">Var, Id and TyVar environments (maps)</h1><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:VarEnv" class="def">VarEnv</a> elt = <a href="UniqFM.html#t:UniqFM">UniqFM</a> elt <a href="src/VarEnv.html#VarEnv" class="link">Source</a> <a href="#t:VarEnv" class="selflink">#</a></p><div class="doc"><p>Variable Environment</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:IdEnv" class="def">IdEnv</a> elt = <a href="VarEnv.html#t:VarEnv">VarEnv</a> elt <a href="src/VarEnv.html#IdEnv" class="link">Source</a> <a href="#t:IdEnv" class="selflink">#</a></p><div class="doc"><p>Identifier Environment</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:TyVarEnv" class="def">TyVarEnv</a> elt = <a href="VarEnv.html#t:VarEnv">VarEnv</a> elt <a href="src/VarEnv.html#TyVarEnv" class="link">Source</a> <a href="#t:TyVarEnv" class="selflink">#</a></p><div class="doc"><p>Type Variable Environment</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:CoVarEnv" class="def">CoVarEnv</a> elt = <a href="VarEnv.html#t:VarEnv">VarEnv</a> elt <a href="src/VarEnv.html#CoVarEnv" class="link">Source</a> <a href="#t:CoVarEnv" class="selflink">#</a></p><div class="doc"><p>Coercion Variable Environment</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:TyCoVarEnv" class="def">TyCoVarEnv</a> elt = <a href="VarEnv.html#t:VarEnv">VarEnv</a> elt <a href="src/VarEnv.html#TyCoVarEnv" class="link">Source</a> <a href="#t:TyCoVarEnv" class="selflink">#</a></p><div class="doc"><p>Type or Coercion Variable Environment</p></div></div><h2 id="g:2">Manipulating these environments</h2><div class="top"><p class="src"><a id="v:emptyVarEnv" class="def">emptyVarEnv</a> :: <a href="VarEnv.html#t:VarEnv">VarEnv</a> a <a href="src/VarEnv.html#emptyVarEnv" class="link">Source</a> <a href="#v:emptyVarEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:unitVarEnv" class="def">unitVarEnv</a> :: <a href="Var.html#t:Var">Var</a> -&gt; a -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a <a href="src/VarEnv.html#unitVarEnv" class="link">Source</a> <a href="#v:unitVarEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkVarEnv" class="def">mkVarEnv</a> :: [(<a href="Var.html#t:Var">Var</a>, a)] -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a <a href="src/VarEnv.html#mkVarEnv" class="link">Source</a> <a href="#v:mkVarEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkVarEnv_Directly" class="def">mkVarEnv_Directly</a> :: [(<a href="Unique.html#t:Unique">Unique</a>, a)] -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a <a href="src/VarEnv.html#mkVarEnv_Directly" class="link">Source</a> <a href="#v:mkVarEnv_Directly" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:elemVarEnv" class="def">elemVarEnv</a> :: <a href="Var.html#t:Var">Var</a> -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/VarEnv.html#elemVarEnv" class="link">Source</a> <a href="#v:elemVarEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:disjointVarEnv" class="def">disjointVarEnv</a> :: <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/VarEnv.html#disjointVarEnv" class="link">Source</a> <a href="#v:disjointVarEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:extendVarEnv" class="def">extendVarEnv</a> :: <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="Var.html#t:Var">Var</a> -&gt; a -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a <a href="src/VarEnv.html#extendVarEnv" class="link">Source</a> <a href="#v:extendVarEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:extendVarEnv_C" class="def">extendVarEnv_C</a> :: (a -&gt; a -&gt; a) -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="Var.html#t:Var">Var</a> -&gt; a -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a <a href="src/VarEnv.html#extendVarEnv_C" class="link">Source</a> <a href="#v:extendVarEnv_C" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:extendVarEnv_Acc" class="def">extendVarEnv_Acc</a> :: (a -&gt; b -&gt; b) -&gt; (a -&gt; b) -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> b -&gt; <a href="Var.html#t:Var">Var</a> -&gt; a -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> b <a href="src/VarEnv.html#extendVarEnv_Acc" class="link">Source</a> <a href="#v:extendVarEnv_Acc" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:extendVarEnv_Directly" class="def">extendVarEnv_Directly</a> :: <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="Unique.html#t:Unique">Unique</a> -&gt; a -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a <a href="src/VarEnv.html#extendVarEnv_Directly" class="link">Source</a> <a href="#v:extendVarEnv_Directly" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:extendVarEnvList" class="def">extendVarEnvList</a> :: <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; [(<a href="Var.html#t:Var">Var</a>, a)] -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a <a href="src/VarEnv.html#extendVarEnvList" class="link">Source</a> <a href="#v:extendVarEnvList" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:plusVarEnv" class="def">plusVarEnv</a> :: <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a <a href="src/VarEnv.html#plusVarEnv" class="link">Source</a> <a href="#v:plusVarEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:plusVarEnv_C" class="def">plusVarEnv_C</a> :: (a -&gt; a -&gt; a) -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a <a href="src/VarEnv.html#plusVarEnv_C" class="link">Source</a> <a href="#v:plusVarEnv_C" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:plusVarEnv_CD" class="def">plusVarEnv_CD</a> :: (a -&gt; a -&gt; a) -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; a -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; a -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a <a href="src/VarEnv.html#plusVarEnv_CD" class="link">Source</a> <a href="#v:plusVarEnv_CD" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:plusMaybeVarEnv_C" class="def">plusMaybeVarEnv_C</a> :: (a -&gt; a -&gt; <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> a) -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a <a href="src/VarEnv.html#plusMaybeVarEnv_C" class="link">Source</a> <a href="#v:plusMaybeVarEnv_C" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:plusVarEnvList" class="def">plusVarEnvList</a> :: [<a href="VarEnv.html#t:VarEnv">VarEnv</a> a] -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a <a href="src/VarEnv.html#plusVarEnvList" class="link">Source</a> <a href="#v:plusVarEnvList" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:alterVarEnv" class="def">alterVarEnv</a> :: (<a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> a -&gt; <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> a) -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a <a href="src/VarEnv.html#alterVarEnv" class="link">Source</a> <a href="#v:alterVarEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:delVarEnvList" class="def">delVarEnvList</a> :: <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; [<a href="Var.html#t:Var">Var</a>] -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a <a href="src/VarEnv.html#delVarEnvList" class="link">Source</a> <a href="#v:delVarEnvList" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:delVarEnv" class="def">delVarEnv</a> :: <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a <a href="src/VarEnv.html#delVarEnv" class="link">Source</a> <a href="#v:delVarEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:delVarEnv_Directly" class="def">delVarEnv_Directly</a> :: <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="Unique.html#t:Unique">Unique</a> -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a <a href="src/VarEnv.html#delVarEnv_Directly" class="link">Source</a> <a href="#v:delVarEnv_Directly" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:minusVarEnv" class="def">minusVarEnv</a> :: <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> b -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a <a href="src/VarEnv.html#minusVarEnv" class="link">Source</a> <a href="#v:minusVarEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:intersectsVarEnv" class="def">intersectsVarEnv</a> :: <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/VarEnv.html#intersectsVarEnv" class="link">Source</a> <a href="#v:intersectsVarEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:lookupVarEnv" class="def">lookupVarEnv</a> :: <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> a <a href="src/VarEnv.html#lookupVarEnv" class="link">Source</a> <a href="#v:lookupVarEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:lookupVarEnv_NF" class="def">lookupVarEnv_NF</a> :: <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="Var.html#t:Var">Var</a> -&gt; a <a href="src/VarEnv.html#lookupVarEnv_NF" class="link">Source</a> <a href="#v:lookupVarEnv_NF" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:lookupWithDefaultVarEnv" class="def">lookupWithDefaultVarEnv</a> :: <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; a -&gt; <a href="Var.html#t:Var">Var</a> -&gt; a <a href="src/VarEnv.html#lookupWithDefaultVarEnv" class="link">Source</a> <a href="#v:lookupWithDefaultVarEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mapVarEnv" class="def">mapVarEnv</a> :: (a -&gt; b) -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> b <a href="src/VarEnv.html#mapVarEnv" class="link">Source</a> <a href="#v:mapVarEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:zipVarEnv" class="def">zipVarEnv</a> :: [<a href="Var.html#t:Var">Var</a>] -&gt; [a] -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a <a href="src/VarEnv.html#zipVarEnv" class="link">Source</a> <a href="#v:zipVarEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:modifyVarEnv" class="def">modifyVarEnv</a> :: (a -&gt; a) -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a <a href="src/VarEnv.html#modifyVarEnv" class="link">Source</a> <a href="#v:modifyVarEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:modifyVarEnv_Directly" class="def">modifyVarEnv_Directly</a> :: (a -&gt; a) -&gt; <a href="UniqFM.html#t:UniqFM">UniqFM</a> a -&gt; <a href="Unique.html#t:Unique">Unique</a> -&gt; <a href="UniqFM.html#t:UniqFM">UniqFM</a> a <a href="src/VarEnv.html#modifyVarEnv_Directly" class="link">Source</a> <a href="#v:modifyVarEnv_Directly" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:isEmptyVarEnv" class="def">isEmptyVarEnv</a> :: <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/VarEnv.html#isEmptyVarEnv" class="link">Source</a> <a href="#v:isEmptyVarEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:elemVarEnvByKey" class="def">elemVarEnvByKey</a> :: <a href="Unique.html#t:Unique">Unique</a> -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/VarEnv.html#elemVarEnvByKey" class="link">Source</a> <a href="#v:elemVarEnvByKey" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:lookupVarEnv_Directly" class="def">lookupVarEnv_Directly</a> :: <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="Unique.html#t:Unique">Unique</a> -&gt; <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> a <a href="src/VarEnv.html#lookupVarEnv_Directly" class="link">Source</a> <a href="#v:lookupVarEnv_Directly" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:filterVarEnv" class="def">filterVarEnv</a> :: (a -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a <a href="src/VarEnv.html#filterVarEnv" class="link">Source</a> <a href="#v:filterVarEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:filterVarEnv_Directly" class="def">filterVarEnv_Directly</a> :: (<a href="Unique.html#t:Unique">Unique</a> -&gt; a -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a <a href="src/VarEnv.html#filterVarEnv_Directly" class="link">Source</a> <a href="#v:filterVarEnv_Directly" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:restrictVarEnv" class="def">restrictVarEnv</a> :: <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; <a href="VarSet.html#t:VarSet">VarSet</a> -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a <a href="src/VarEnv.html#restrictVarEnv" class="link">Source</a> <a href="#v:restrictVarEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:partitionVarEnv" class="def">partitionVarEnv</a> :: (a -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> a -&gt; (<a href="VarEnv.html#t:VarEnv">VarEnv</a> a, <a href="VarEnv.html#t:VarEnv">VarEnv</a> a) <a href="src/VarEnv.html#partitionVarEnv" class="link">Source</a> <a href="#v:partitionVarEnv" class="selflink">#</a></p></div><h1 id="g:3">Deterministic Var environments (maps)</h1><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:DVarEnv" class="def">DVarEnv</a> elt = <a href="UniqDFM.html#t:UniqDFM">UniqDFM</a> elt <a href="src/VarEnv.html#DVarEnv" class="link">Source</a> <a href="#t:DVarEnv" class="selflink">#</a></p><div class="doc"><p>Deterministic Variable Environment</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:DIdEnv" class="def">DIdEnv</a> elt = <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> elt <a href="src/VarEnv.html#DIdEnv" class="link">Source</a> <a href="#t:DIdEnv" class="selflink">#</a></p><div class="doc"><p>Deterministic Identifier Environment</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:DTyVarEnv" class="def">DTyVarEnv</a> elt = <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> elt <a href="src/VarEnv.html#DTyVarEnv" class="link">Source</a> <a href="#t:DTyVarEnv" class="selflink">#</a></p><div class="doc"><p>Deterministic Type Variable Environment</p></div></div><h2 id="g:4">Manipulating these environments</h2><div class="top"><p class="src"><a id="v:emptyDVarEnv" class="def">emptyDVarEnv</a> :: <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a <a href="src/VarEnv.html#emptyDVarEnv" class="link">Source</a> <a href="#v:emptyDVarEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkDVarEnv" class="def">mkDVarEnv</a> :: [(<a href="Var.html#t:Var">Var</a>, a)] -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a <a href="src/VarEnv.html#mkDVarEnv" class="link">Source</a> <a href="#v:mkDVarEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:dVarEnvElts" class="def">dVarEnvElts</a> :: <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a -&gt; [a] <a href="src/VarEnv.html#dVarEnvElts" class="link">Source</a> <a href="#v:dVarEnvElts" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:extendDVarEnv" class="def">extendDVarEnv</a> :: <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a -&gt; <a href="Var.html#t:Var">Var</a> -&gt; a -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a <a href="src/VarEnv.html#extendDVarEnv" class="link">Source</a> <a href="#v:extendDVarEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:extendDVarEnv_C" class="def">extendDVarEnv_C</a> :: (a -&gt; a -&gt; a) -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a -&gt; <a href="Var.html#t:Var">Var</a> -&gt; a -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a <a href="src/VarEnv.html#extendDVarEnv_C" class="link">Source</a> <a href="#v:extendDVarEnv_C" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:extendDVarEnvList" class="def">extendDVarEnvList</a> :: <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a -&gt; [(<a href="Var.html#t:Var">Var</a>, a)] -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a <a href="src/VarEnv.html#extendDVarEnvList" class="link">Source</a> <a href="#v:extendDVarEnvList" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:lookupDVarEnv" class="def">lookupDVarEnv</a> :: <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> a <a href="src/VarEnv.html#lookupDVarEnv" class="link">Source</a> <a href="#v:lookupDVarEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:elemDVarEnv" class="def">elemDVarEnv</a> :: <a href="Var.html#t:Var">Var</a> -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/VarEnv.html#elemDVarEnv" class="link">Source</a> <a href="#v:elemDVarEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:isEmptyDVarEnv" class="def">isEmptyDVarEnv</a> :: <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/VarEnv.html#isEmptyDVarEnv" class="link">Source</a> <a href="#v:isEmptyDVarEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:foldDVarEnv" class="def">foldDVarEnv</a> :: (a -&gt; b -&gt; b) -&gt; b -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a -&gt; b <a href="src/VarEnv.html#foldDVarEnv" class="link">Source</a> <a href="#v:foldDVarEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mapDVarEnv" class="def">mapDVarEnv</a> :: (a -&gt; b) -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> b <a href="src/VarEnv.html#mapDVarEnv" class="link">Source</a> <a href="#v:mapDVarEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:modifyDVarEnv" class="def">modifyDVarEnv</a> :: (a -&gt; a) -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a <a href="src/VarEnv.html#modifyDVarEnv" class="link">Source</a> <a href="#v:modifyDVarEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:alterDVarEnv" class="def">alterDVarEnv</a> :: (<a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> a -&gt; <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> a) -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a <a href="src/VarEnv.html#alterDVarEnv" class="link">Source</a> <a href="#v:alterDVarEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:plusDVarEnv" class="def">plusDVarEnv</a> :: <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a <a href="src/VarEnv.html#plusDVarEnv" class="link">Source</a> <a href="#v:plusDVarEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:plusDVarEnv_C" class="def">plusDVarEnv_C</a> :: (a -&gt; a -&gt; a) -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a <a href="src/VarEnv.html#plusDVarEnv_C" class="link">Source</a> <a href="#v:plusDVarEnv_C" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:unitDVarEnv" class="def">unitDVarEnv</a> :: <a href="Var.html#t:Var">Var</a> -&gt; a -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a <a href="src/VarEnv.html#unitDVarEnv" class="link">Source</a> <a href="#v:unitDVarEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:delDVarEnv" class="def">delDVarEnv</a> :: <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a <a href="src/VarEnv.html#delDVarEnv" class="link">Source</a> <a href="#v:delDVarEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:delDVarEnvList" class="def">delDVarEnvList</a> :: <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a -&gt; [<a href="Var.html#t:Var">Var</a>] -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a <a href="src/VarEnv.html#delDVarEnvList" class="link">Source</a> <a href="#v:delDVarEnvList" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:minusDVarEnv" class="def">minusDVarEnv</a> :: <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a' -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a <a href="src/VarEnv.html#minusDVarEnv" class="link">Source</a> <a href="#v:minusDVarEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:partitionDVarEnv" class="def">partitionDVarEnv</a> :: (a -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a -&gt; (<a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a, <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a) <a href="src/VarEnv.html#partitionDVarEnv" class="link">Source</a> <a href="#v:partitionDVarEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:anyDVarEnv" class="def">anyDVarEnv</a> :: (a -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="VarEnv.html#t:DVarEnv">DVarEnv</a> a -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/VarEnv.html#anyDVarEnv" class="link">Source</a> <a href="#v:anyDVarEnv" class="selflink">#</a></p></div><h1 id="g:5">The InScopeSet type</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:InScopeSet" class="def">InScopeSet</a> <a href="src/VarEnv.html#InScopeSet" class="link">Source</a> <a href="#t:InScopeSet" class="selflink">#</a></p><div class="doc"><p>A set of variables that are in scope at some point
 &quot;Secrets of the Glasgow Haskell Compiler inliner&quot; Section 3.2 provides
 the motivation for this abstraction.</p></div><div class="subs instances"><p id="control.i:InScopeSet" class="caption collapser" onclick="toggleSection('i:InScopeSet')">Instances</p><div id="section.i:InScopeSet" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:InScopeSet:Outputable:1" class="instance expander" onclick="toggleSection('i:id:InScopeSet:Outputable:1')"></span> <a href="Outputable.html#t:Outputable">Outputable</a> <a href="VarEnv.html#t:InScopeSet">InScopeSet</a></span> <a href="#t:InScopeSet" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:InScopeSet:Outputable:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:ppr">ppr</a> :: <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> -&gt; <a href="Outputable.html#t:SDoc">SDoc</a> <a href="src/Outputable.html#ppr" class="link">Source</a> <a href="#v:ppr" class="selflink">#</a></p><p class="src"><a href="#v:pprPrec">pprPrec</a> :: <a href="../base-4.10.1.0/Prelude.html#t:Rational">Rational</a> -&gt; <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> -&gt; <a href="Outputable.html#t:SDoc">SDoc</a> <a href="src/Outputable.html#pprPrec" class="link">Source</a> <a href="#v:pprPrec" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><h2 id="g:6">Operations on InScopeSets</h2><div class="top"><p class="src"><a id="v:emptyInScopeSet" class="def">emptyInScopeSet</a> :: <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> <a href="src/VarEnv.html#emptyInScopeSet" class="link">Source</a> <a href="#v:emptyInScopeSet" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkInScopeSet" class="def">mkInScopeSet</a> :: <a href="VarSet.html#t:VarSet">VarSet</a> -&gt; <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> <a href="src/VarEnv.html#mkInScopeSet" class="link">Source</a> <a href="#v:mkInScopeSet" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:delInScopeSet" class="def">delInScopeSet</a> :: <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> <a href="src/VarEnv.html#delInScopeSet" class="link">Source</a> <a href="#v:delInScopeSet" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:extendInScopeSet" class="def">extendInScopeSet</a> :: <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> <a href="src/VarEnv.html#extendInScopeSet" class="link">Source</a> <a href="#v:extendInScopeSet" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:extendInScopeSetList" class="def">extendInScopeSetList</a> :: <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> -&gt; [<a href="Var.html#t:Var">Var</a>] -&gt; <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> <a href="src/VarEnv.html#extendInScopeSetList" class="link">Source</a> <a href="#v:extendInScopeSetList" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:extendInScopeSetSet" class="def">extendInScopeSetSet</a> :: <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> -&gt; <a href="VarSet.html#t:VarSet">VarSet</a> -&gt; <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> <a href="src/VarEnv.html#extendInScopeSetSet" class="link">Source</a> <a href="#v:extendInScopeSetSet" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getInScopeVars" class="def">getInScopeVars</a> :: <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> -&gt; <a href="VarSet.html#t:VarSet">VarSet</a> <a href="src/VarEnv.html#getInScopeVars" class="link">Source</a> <a href="#v:getInScopeVars" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:lookupInScope" class="def">lookupInScope</a> :: <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Var.html#t:Var">Var</a> <a href="src/VarEnv.html#lookupInScope" class="link">Source</a> <a href="#v:lookupInScope" class="selflink">#</a></p><div class="doc"><p>Look up a variable the <code><a href="VarEnv.html#t:InScopeSet">InScopeSet</a></code>.  This lets you map from
 the variable's identity (unique) to its full value.</p></div></div><div class="top"><p class="src"><a id="v:lookupInScope_Directly" class="def">lookupInScope_Directly</a> :: <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> -&gt; <a href="Unique.html#t:Unique">Unique</a> -&gt; <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Var.html#t:Var">Var</a> <a href="src/VarEnv.html#lookupInScope_Directly" class="link">Source</a> <a href="#v:lookupInScope_Directly" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:unionInScope" class="def">unionInScope</a> :: <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> -&gt; <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> -&gt; <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> <a href="src/VarEnv.html#unionInScope" class="link">Source</a> <a href="#v:unionInScope" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:elemInScopeSet" class="def">elemInScopeSet</a> :: <a href="Var.html#t:Var">Var</a> -&gt; <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/VarEnv.html#elemInScopeSet" class="link">Source</a> <a href="#v:elemInScopeSet" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:uniqAway" class="def">uniqAway</a> :: <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="Var.html#t:Var">Var</a> <a href="src/VarEnv.html#uniqAway" class="link">Source</a> <a href="#v:uniqAway" class="selflink">#</a></p><div class="doc"><p><code>uniqAway in_scope v</code> finds a unique that is not used in the
 in-scope set, and gives that to v.</p></div></div><div class="top"><p class="src"><a id="v:varSetInScope" class="def">varSetInScope</a> :: <a href="VarSet.html#t:VarSet">VarSet</a> -&gt; <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/VarEnv.html#varSetInScope" class="link">Source</a> <a href="#v:varSetInScope" class="selflink">#</a></p></div><h1 id="g:7">The RnEnv2 type</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:RnEnv2" class="def">RnEnv2</a> <a href="src/VarEnv.html#RnEnv2" class="link">Source</a> <a href="#t:RnEnv2" class="selflink">#</a></p><div class="doc"><p>Rename Environment 2</p><p>When we are comparing (or matching) types or terms, we are faced with
 &quot;going under&quot; corresponding binders.  E.g. when comparing:</p><pre>\x. e1     ~   \y. e2</pre><p>Basically we want to rename [<code>x</code> -&gt; <code>y</code>] or [<code>y</code> -&gt; <code>x</code>], but there are lots of
 things we must be careful of.  In particular, <code>x</code> might be free in <code>e2</code>, or
 y in <code>e1</code>.  So the idea is that we come up with a fresh binder that is free
 in neither, and rename <code>x</code> and <code>y</code> respectively.  That means we must maintain:</p><ol><li>A renaming for the left-hand expression</li><li>A renaming for the right-hand expressions</li><li>An in-scope set</li></ol><p>Furthermore, when matching, we want to be able to have an 'occurs check',
 to prevent:</p><pre>\x. f   ~   \y. y</pre><p>matching with [<code>f</code> -&gt; <code>y</code>].  So for each expression we want to know that set of
 locally-bound variables. That is precisely the domain of the mappings 1.
 and 2., but we must ensure that we always extend the mappings as we go in.</p><p>All of this information is bundled up in the <code><a href="VarEnv.html#t:RnEnv2">RnEnv2</a></code></p></div></div><h2 id="g:8">Operations on RnEnv2s</h2><div class="top"><p class="src"><a id="v:mkRnEnv2" class="def">mkRnEnv2</a> :: <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> -&gt; <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> <a href="src/VarEnv.html#mkRnEnv2" class="link">Source</a> <a href="#v:mkRnEnv2" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:rnBndr2" class="def">rnBndr2</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> <a href="src/VarEnv.html#rnBndr2" class="link">Source</a> <a href="#v:rnBndr2" class="selflink">#</a></p><div class="doc"><p><code>rnBndr2 env bL bR</code> goes under a binder <code>bL</code> in the Left term,
                       and binder <code>bR</code> in the Right term.
 It finds a new binder, <code>new_b</code>,
 and returns an environment mapping <code>bL -&gt; new_b</code> and <code>bR -&gt; new_b</code></p></div></div><div class="top"><p class="src"><a id="v:rnBndrs2" class="def">rnBndrs2</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; [<a href="Var.html#t:Var">Var</a>] -&gt; [<a href="Var.html#t:Var">Var</a>] -&gt; <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> <a href="src/VarEnv.html#rnBndrs2" class="link">Source</a> <a href="#v:rnBndrs2" class="selflink">#</a></p><div class="doc"><p>Applies <code><a href="VarEnv.html#v:rnBndr2">rnBndr2</a></code> to several variables: the two variable lists must be of equal length</p></div></div><div class="top"><p class="src"><a id="v:rnBndr2_var" class="def">rnBndr2_var</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; (<a href="VarEnv.html#t:RnEnv2">RnEnv2</a>, <a href="Var.html#t:Var">Var</a>) <a href="src/VarEnv.html#rnBndr2_var" class="link">Source</a> <a href="#v:rnBndr2_var" class="selflink">#</a></p><div class="doc"><p>Similar to <code><a href="VarEnv.html#v:rnBndr2">rnBndr2</a></code> but returns the new variable as well as the
 new environment</p></div></div><div class="top"><p class="src"><a id="v:rnOccL" class="def">rnOccL</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="Var.html#t:Var">Var</a> <a href="src/VarEnv.html#rnOccL" class="link">Source</a> <a href="#v:rnOccL" class="selflink">#</a></p><div class="doc"><p>Look up the renaming of an occurrence in the left or right term</p></div></div><div class="top"><p class="src"><a id="v:rnOccR" class="def">rnOccR</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="Var.html#t:Var">Var</a> <a href="src/VarEnv.html#rnOccR" class="link">Source</a> <a href="#v:rnOccR" class="selflink">#</a></p><div class="doc"><p>Look up the renaming of an occurrence in the left or right term</p></div></div><div class="top"><p class="src"><a id="v:inRnEnvL" class="def">inRnEnvL</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/VarEnv.html#inRnEnvL" class="link">Source</a> <a href="#v:inRnEnvL" class="selflink">#</a></p><div class="doc"><p>Tells whether a variable is locally bound</p></div></div><div class="top"><p class="src"><a id="v:inRnEnvR" class="def">inRnEnvR</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/VarEnv.html#inRnEnvR" class="link">Source</a> <a href="#v:inRnEnvR" class="selflink">#</a></p><div class="doc"><p>Tells whether a variable is locally bound</p></div></div><div class="top"><p class="src"><a id="v:rnOccL_maybe" class="def">rnOccL_maybe</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Var.html#t:Var">Var</a> <a href="src/VarEnv.html#rnOccL_maybe" class="link">Source</a> <a href="#v:rnOccL_maybe" class="selflink">#</a></p><div class="doc"><p>Look up the renaming of an occurrence in the left or right term</p></div></div><div class="top"><p class="src"><a id="v:rnOccR_maybe" class="def">rnOccR_maybe</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Var.html#t:Var">Var</a> <a href="src/VarEnv.html#rnOccR_maybe" class="link">Source</a> <a href="#v:rnOccR_maybe" class="selflink">#</a></p><div class="doc"><p>Look up the renaming of an occurrence in the left or right term</p></div></div><div class="top"><p class="src"><a id="v:rnBndrL" class="def">rnBndrL</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; (<a href="VarEnv.html#t:RnEnv2">RnEnv2</a>, <a href="Var.html#t:Var">Var</a>) <a href="src/VarEnv.html#rnBndrL" class="link">Source</a> <a href="#v:rnBndrL" class="selflink">#</a></p><div class="doc"><p>Similar to <code><a href="VarEnv.html#v:rnBndr2">rnBndr2</a></code> but used when there's a binder on the left
 side only.</p></div></div><div class="top"><p class="src"><a id="v:rnBndrR" class="def">rnBndrR</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; (<a href="VarEnv.html#t:RnEnv2">RnEnv2</a>, <a href="Var.html#t:Var">Var</a>) <a href="src/VarEnv.html#rnBndrR" class="link">Source</a> <a href="#v:rnBndrR" class="selflink">#</a></p><div class="doc"><p>Similar to <code><a href="VarEnv.html#v:rnBndr2">rnBndr2</a></code> but used when there's a binder on the right
 side only.</p></div></div><div class="top"><p class="src"><a id="v:nukeRnEnvL" class="def">nukeRnEnvL</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> <a href="src/VarEnv.html#nukeRnEnvL" class="link">Source</a> <a href="#v:nukeRnEnvL" class="selflink">#</a></p><div class="doc"><p>Wipe the left or right side renaming</p></div></div><div class="top"><p class="src"><a id="v:nukeRnEnvR" class="def">nukeRnEnvR</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> <a href="src/VarEnv.html#nukeRnEnvR" class="link">Source</a> <a href="#v:nukeRnEnvR" class="selflink">#</a></p><div class="doc"><p>Wipe the left or right side renaming</p></div></div><div class="top"><p class="src"><a id="v:rnSwap" class="def">rnSwap</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> <a href="src/VarEnv.html#rnSwap" class="link">Source</a> <a href="#v:rnSwap" class="selflink">#</a></p><div class="doc"><p>swap the meaning of left and right</p></div></div><div class="top"><p class="src"><a id="v:delBndrL" class="def">delBndrL</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> <a href="src/VarEnv.html#delBndrL" class="link">Source</a> <a href="#v:delBndrL" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:delBndrR" class="def">delBndrR</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> <a href="src/VarEnv.html#delBndrR" class="link">Source</a> <a href="#v:delBndrR" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:delBndrsL" class="def">delBndrsL</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; [<a href="Var.html#t:Var">Var</a>] -&gt; <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> <a href="src/VarEnv.html#delBndrsL" class="link">Source</a> <a href="#v:delBndrsL" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:delBndrsR" class="def">delBndrsR</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; [<a href="Var.html#t:Var">Var</a>] -&gt; <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> <a href="src/VarEnv.html#delBndrsR" class="link">Source</a> <a href="#v:delBndrsR" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:addRnInScopeSet" class="def">addRnInScopeSet</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="VarSet.html#t:VarSet">VarSet</a> -&gt; <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> <a href="src/VarEnv.html#addRnInScopeSet" class="link">Source</a> <a href="#v:addRnInScopeSet" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:rnEtaL" class="def">rnEtaL</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; (<a href="VarEnv.html#t:RnEnv2">RnEnv2</a>, <a href="Var.html#t:Var">Var</a>) <a href="src/VarEnv.html#rnEtaL" class="link">Source</a> <a href="#v:rnEtaL" class="selflink">#</a></p><div class="doc"><p>Similar to <code><a href="VarEnv.html#v:rnBndrL">rnBndrL</a></code> but used for eta expansion
 See Note [Eta expansion]</p></div></div><div class="top"><p class="src"><a id="v:rnEtaR" class="def">rnEtaR</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; (<a href="VarEnv.html#t:RnEnv2">RnEnv2</a>, <a href="Var.html#t:Var">Var</a>) <a href="src/VarEnv.html#rnEtaR" class="link">Source</a> <a href="#v:rnEtaR" class="selflink">#</a></p><div class="doc"><p>Similar to <code><a href="VarEnv.html#v:rnBndr2">rnBndr2</a></code> but used for eta expansion
 See Note [Eta expansion]</p></div></div><div class="top"><p class="src"><a id="v:rnInScope" class="def">rnInScope</a> :: <a href="Var.html#t:Var">Var</a> -&gt; <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/VarEnv.html#rnInScope" class="link">Source</a> <a href="#v:rnInScope" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:rnInScopeSet" class="def">rnInScopeSet</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> <a href="src/VarEnv.html#rnInScopeSet" class="link">Source</a> <a href="#v:rnInScopeSet" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:lookupRnInScope" class="def">lookupRnInScope</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="Var.html#t:Var">Var</a> -&gt; <a href="Var.html#t:Var">Var</a> <a href="src/VarEnv.html#lookupRnInScope" class="link">Source</a> <a href="#v:lookupRnInScope" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:rnEnvL" class="def">rnEnvL</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> <a href="Var.html#t:Var">Var</a> <a href="src/VarEnv.html#rnEnvL" class="link">Source</a> <a href="#v:rnEnvL" class="selflink">#</a></p><div class="doc"><p>Retrieve the left mapping</p></div></div><div class="top"><p class="src"><a id="v:rnEnvR" class="def">rnEnvR</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="VarEnv.html#t:VarEnv">VarEnv</a> <a href="Var.html#t:Var">Var</a> <a href="src/VarEnv.html#rnEnvR" class="link">Source</a> <a href="#v:rnEnvR" class="selflink">#</a></p><div class="doc"><p>Retrieve the right mapping</p></div></div><h1 id="g:9">TidyEnv and its operation</h1><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:TidyEnv" class="def">TidyEnv</a> = (<a href="OccName.html#t:TidyOccEnv">TidyOccEnv</a>, <a href="VarEnv.html#t:VarEnv">VarEnv</a> <a href="Var.html#t:Var">Var</a>) <a href="src/VarEnv.html#TidyEnv" class="link">Source</a> <a href="#t:TidyEnv" class="selflink">#</a></p><div class="doc"><p>Tidy Environment</p><p>When tidying up print names, we keep a mapping of in-scope occ-names
 (the <code><a href="OccName.html#t:TidyOccEnv">TidyOccEnv</a></code>) and a Var-to-Var of the current renamings</p></div></div><div class="top"><p class="src"><a id="v:emptyTidyEnv" class="def">emptyTidyEnv</a> :: <a href="VarEnv.html#t:TidyEnv">TidyEnv</a> <a href="src/VarEnv.html#emptyTidyEnv" class="link">Source</a> <a href="#v:emptyTidyEnv" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.18.1</p></div></body></html>