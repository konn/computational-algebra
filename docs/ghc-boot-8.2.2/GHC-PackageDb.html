<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>GHC.PackageDb</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/GHC-PackageDb.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">ghc-boot-8.2.2: Shared functionality between GHC and its boot libraries</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) The University of Glasgow 2009 Duncan Coutts 2014</td></tr><tr><th>Maintainer</th><td>ghc-devs@haskell.org</td></tr><tr><th>Portability</th><td>portable</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">GHC.PackageDb</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module provides the view of GHC's database of registered packages that
 is shared between GHC the compiler/library, and the ghc-pkg program. It
 defines the database format that is shared between GHC and ghc-pkg.</p><p>The database format, and this library are constructed so that GHC does not
 have to depend on the Cabal library. The ghc-pkg program acts as the
 gateway between the external package format (which is defined by Cabal) and
 the internal package format which is specialised just for GHC.</p><p>GHC the compiler only needs some of the information which is kept about
 registerd packages, such as module names, various paths etc. On the other
 hand ghc-pkg has to keep all the information from Cabal packages and be able
 to regurgitate it for users and other tools.</p><p>The first trick is that we duplicate some of the information in the package
 database. We essentially keep two versions of the datbase in one file, one
 version used only by ghc-pkg which keeps the full information (using the
 serialised form of the <code><a href="GHC-PackageDb.html#t:InstalledPackageInfo">InstalledPackageInfo</a></code> type defined by the Cabal
 library); and a second version written by ghc-pkg and read by GHC which has
 just the subset of information that GHC needs.</p><p>The second trick is that this module only defines in detail the format of
 the second version -- the bit GHC uses -- and the part managed by ghc-pkg
 is kept in the file but here we treat it as an opaque blob of data. That way
 this library avoids depending on Cabal.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:InstalledPackageInfo">InstalledPackageInfo</a> compid srcpkgid srcpkgname instunitid unitid modulename mod = <a href="#v:InstalledPackageInfo">InstalledPackageInfo</a> {<ul class="subs"><li><a href="#v:unitId">unitId</a> :: instunitid</li><li><a href="#v:componentId">componentId</a> :: compid</li><li><a href="#v:instantiatedWith">instantiatedWith</a> :: [(modulename, mod)]</li><li><a href="#v:sourcePackageId">sourcePackageId</a> :: srcpkgid</li><li><a href="#v:packageName">packageName</a> :: srcpkgname</li><li><a href="#v:packageVersion">packageVersion</a> :: <a href="../base-4.10.1.0/Data-Version.html#t:Version">Version</a></li><li><a href="#v:sourceLibName">sourceLibName</a> :: <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> srcpkgname</li><li><a href="#v:abiHash">abiHash</a> :: <a href="../base-4.10.1.0/Data-String.html#t:String">String</a></li><li><a href="#v:depends">depends</a> :: [instunitid]</li><li><a href="#v:abiDepends">abiDepends</a> :: [(instunitid, <a href="../base-4.10.1.0/Data-String.html#t:String">String</a>)]</li><li><a href="#v:importDirs">importDirs</a> :: [<a href="../base-4.10.1.0/System-IO.html#t:FilePath">FilePath</a>]</li><li><a href="#v:hsLibraries">hsLibraries</a> :: [<a href="../base-4.10.1.0/Data-String.html#t:String">String</a>]</li><li><a href="#v:extraLibraries">extraLibraries</a> :: [<a href="../base-4.10.1.0/Data-String.html#t:String">String</a>]</li><li><a href="#v:extraGHCiLibraries">extraGHCiLibraries</a> :: [<a href="../base-4.10.1.0/Data-String.html#t:String">String</a>]</li><li><a href="#v:libraryDirs">libraryDirs</a> :: [<a href="../base-4.10.1.0/System-IO.html#t:FilePath">FilePath</a>]</li><li><a href="#v:libraryDynDirs">libraryDynDirs</a> :: [<a href="../base-4.10.1.0/System-IO.html#t:FilePath">FilePath</a>]</li><li><a href="#v:frameworks">frameworks</a> :: [<a href="../base-4.10.1.0/Data-String.html#t:String">String</a>]</li><li><a href="#v:frameworkDirs">frameworkDirs</a> :: [<a href="../base-4.10.1.0/System-IO.html#t:FilePath">FilePath</a>]</li><li><a href="#v:ldOptions">ldOptions</a> :: [<a href="../base-4.10.1.0/Data-String.html#t:String">String</a>]</li><li><a href="#v:ccOptions">ccOptions</a> :: [<a href="../base-4.10.1.0/Data-String.html#t:String">String</a>]</li><li><a href="#v:includes">includes</a> :: [<a href="../base-4.10.1.0/Data-String.html#t:String">String</a>]</li><li><a href="#v:includeDirs">includeDirs</a> :: [<a href="../base-4.10.1.0/System-IO.html#t:FilePath">FilePath</a>]</li><li><a href="#v:haddockInterfaces">haddockInterfaces</a> :: [<a href="../base-4.10.1.0/System-IO.html#t:FilePath">FilePath</a>]</li><li><a href="#v:haddockHTMLs">haddockHTMLs</a> :: [<a href="../base-4.10.1.0/System-IO.html#t:FilePath">FilePath</a>]</li><li><a href="#v:exposedModules">exposedModules</a> :: [(modulename, <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> mod)]</li><li><a href="#v:hiddenModules">hiddenModules</a> :: [modulename]</li><li><a href="#v:indefinite">indefinite</a> :: <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a></li><li><a href="#v:exposed">exposed</a> :: <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a></li><li><a href="#v:trusted">trusted</a> :: <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:DbModule">DbModule</a> instunitid compid unitid modulename mod<ul class="subs"><li>= <a href="#v:DbModule">DbModule</a> { <ul class="subs"><li><a href="#v:dbModuleUnitId">dbModuleUnitId</a> :: unitid</li><li><a href="#v:dbModuleName">dbModuleName</a> :: modulename</li></ul> }</li><li>| <a href="#v:DbModuleVar">DbModuleVar</a> { <ul class="subs"><li><a href="#v:dbModuleVarName">dbModuleVarName</a> :: modulename</li></ul> }</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:DbUnitId">DbUnitId</a> instunitid compid unitid modulename mod<ul class="subs"><li>= <a href="#v:DbUnitId">DbUnitId</a> compid [(modulename, mod)]</li><li>| <a href="#v:DbInstalledUnitId">DbInstalledUnitId</a> instunitid</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:BinaryStringRep">BinaryStringRep</a> a <span class="keyword">where</span><ul class="subs"></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:DbUnitIdModuleRep">DbUnitIdModuleRep</a> instunitid compid unitid modulename mod | mod -&gt; unitid, unitid -&gt; mod, mod -&gt; modulename, unitid -&gt; compid, unitid -&gt; instunitid <span class="keyword">where</span><ul class="subs"></ul></li><li class="src short"><a href="#v:emptyInstalledPackageInfo">emptyInstalledPackageInfo</a> :: RepInstalledPackageInfo a b c d e f g =&gt; <a href="GHC-PackageDb.html#t:InstalledPackageInfo">InstalledPackageInfo</a> a b c d e f g</li><li class="src short"><span class="keyword">data</span> <a href="#t:PackageDbLock">PackageDbLock</a></li><li class="src short"><a href="#v:lockPackageDb">lockPackageDb</a> :: <a href="../base-4.10.1.0/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> <a href="GHC-PackageDb.html#t:PackageDbLock">PackageDbLock</a></li><li class="src short"><a href="#v:unlockPackageDb">unlockPackageDb</a> :: <a href="GHC-PackageDb.html#t:PackageDbLock">PackageDbLock</a> -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:DbMode">DbMode</a><ul class="subs"><li>= <a href="#v:DbReadOnly">DbReadOnly</a></li><li>| <a href="#v:DbReadWrite">DbReadWrite</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:DbOpenMode">DbOpenMode</a> (mode :: <a href="GHC-PackageDb.html#t:DbMode">DbMode</a>) t <span class="keyword">where</span><ul class="subs"><li><a href="#v:DbOpenReadOnly">DbOpenReadOnly</a> :: <a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a> <a href="GHC-PackageDb.html#v:DbReadOnly">DbReadOnly</a> t</li><li><a href="#v:DbOpenReadWrite">DbOpenReadWrite</a> :: t -&gt; <a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a> <a href="GHC-PackageDb.html#v:DbReadWrite">DbReadWrite</a> t</li></ul></li><li class="src short"><a href="#v:isDbOpenReadMode">isDbOpenReadMode</a> :: <a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a> mode t -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:readPackageDbForGhc">readPackageDbForGhc</a> :: RepInstalledPackageInfo a b c d e f g =&gt; <a href="../base-4.10.1.0/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> [<a href="GHC-PackageDb.html#t:InstalledPackageInfo">InstalledPackageInfo</a> a b c d e f g]</li><li class="src short"><a href="#v:readPackageDbForGhcPkg">readPackageDbForGhcPkg</a> :: <a href="../binary-0.8.5.1/Data-Binary.html#t:Binary">Binary</a> pkgs =&gt; <a href="../base-4.10.1.0/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a> mode t -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> (pkgs, <a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a> mode <a href="GHC-PackageDb.html#t:PackageDbLock">PackageDbLock</a>)</li><li class="src short"><a href="#v:writePackageDb">writePackageDb</a> :: (<a href="../binary-0.8.5.1/Data-Binary.html#t:Binary">Binary</a> pkgs, RepInstalledPackageInfo a b c d e f g) =&gt; <a href="../base-4.10.1.0/System-IO.html#t:FilePath">FilePath</a> -&gt; [<a href="GHC-PackageDb.html#t:InstalledPackageInfo">InstalledPackageInfo</a> a b c d e f g] -&gt; pkgs -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> ()</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:InstalledPackageInfo" class="def">InstalledPackageInfo</a> compid srcpkgid srcpkgname instunitid unitid modulename mod <a href="src/GHC-PackageDb.html#InstalledPackageInfo" class="link">Source</a> <a href="#t:InstalledPackageInfo" class="selflink">#</a></p><div class="doc"><p>This is a subset of Cabal's <code><a href="GHC-PackageDb.html#t:InstalledPackageInfo">InstalledPackageInfo</a></code>, with just the bits
 that GHC is interested in.  See Cabal's documentation for a more detailed
 description of all of the fields.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:InstalledPackageInfo" class="def">InstalledPackageInfo</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:unitId" class="def">unitId</a> :: instunitid</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:componentId" class="def">componentId</a> :: compid</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:instantiatedWith" class="def">instantiatedWith</a> :: [(modulename, mod)]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:sourcePackageId" class="def">sourcePackageId</a> :: srcpkgid</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:packageName" class="def">packageName</a> :: srcpkgname</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:packageVersion" class="def">packageVersion</a> :: <a href="../base-4.10.1.0/Data-Version.html#t:Version">Version</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:sourceLibName" class="def">sourceLibName</a> :: <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> srcpkgname</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:abiHash" class="def">abiHash</a> :: <a href="../base-4.10.1.0/Data-String.html#t:String">String</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:depends" class="def">depends</a> :: [instunitid]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:abiDepends" class="def">abiDepends</a> :: [(instunitid, <a href="../base-4.10.1.0/Data-String.html#t:String">String</a>)]</dfn><div class="doc"><p>Like <code><a href="GHC-PackageDb.html#v:depends">depends</a></code>, but each dependency is annotated with the
 ABI hash we expect the dependency to respect.</p></div></li><li><dfn class="src"><a id="v:importDirs" class="def">importDirs</a> :: [<a href="../base-4.10.1.0/System-IO.html#t:FilePath">FilePath</a>]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:hsLibraries" class="def">hsLibraries</a> :: [<a href="../base-4.10.1.0/Data-String.html#t:String">String</a>]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:extraLibraries" class="def">extraLibraries</a> :: [<a href="../base-4.10.1.0/Data-String.html#t:String">String</a>]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:extraGHCiLibraries" class="def">extraGHCiLibraries</a> :: [<a href="../base-4.10.1.0/Data-String.html#t:String">String</a>]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:libraryDirs" class="def">libraryDirs</a> :: [<a href="../base-4.10.1.0/System-IO.html#t:FilePath">FilePath</a>]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:libraryDynDirs" class="def">libraryDynDirs</a> :: [<a href="../base-4.10.1.0/System-IO.html#t:FilePath">FilePath</a>]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:frameworks" class="def">frameworks</a> :: [<a href="../base-4.10.1.0/Data-String.html#t:String">String</a>]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:frameworkDirs" class="def">frameworkDirs</a> :: [<a href="../base-4.10.1.0/System-IO.html#t:FilePath">FilePath</a>]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:ldOptions" class="def">ldOptions</a> :: [<a href="../base-4.10.1.0/Data-String.html#t:String">String</a>]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:ccOptions" class="def">ccOptions</a> :: [<a href="../base-4.10.1.0/Data-String.html#t:String">String</a>]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:includes" class="def">includes</a> :: [<a href="../base-4.10.1.0/Data-String.html#t:String">String</a>]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:includeDirs" class="def">includeDirs</a> :: [<a href="../base-4.10.1.0/System-IO.html#t:FilePath">FilePath</a>]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:haddockInterfaces" class="def">haddockInterfaces</a> :: [<a href="../base-4.10.1.0/System-IO.html#t:FilePath">FilePath</a>]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:haddockHTMLs" class="def">haddockHTMLs</a> :: [<a href="../base-4.10.1.0/System-IO.html#t:FilePath">FilePath</a>]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:exposedModules" class="def">exposedModules</a> :: [(modulename, <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> mod)]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:hiddenModules" class="def">hiddenModules</a> :: [modulename]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:indefinite" class="def">indefinite</a> :: <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:exposed" class="def">exposed</a> :: <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:trusted" class="def">trusted</a> :: <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><p id="control.i:InstalledPackageInfo" class="caption collapser" onclick="toggleSection('i:InstalledPackageInfo')">Instances</p><div id="section.i:InstalledPackageInfo" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:InstalledPackageInfo:Eq:1" class="instance expander" onclick="toggleSection('i:id:InstalledPackageInfo:Eq:1')"></span> (<a href="../base-4.10.1.0/Data-Eq.html#t:Eq">Eq</a> srcpkgname, <a href="../base-4.10.1.0/Data-Eq.html#t:Eq">Eq</a> srcpkgid, <a href="../base-4.10.1.0/Data-Eq.html#t:Eq">Eq</a> mod, <a href="../base-4.10.1.0/Data-Eq.html#t:Eq">Eq</a> modulename, <a href="../base-4.10.1.0/Data-Eq.html#t:Eq">Eq</a> compid, <a href="../base-4.10.1.0/Data-Eq.html#t:Eq">Eq</a> instunitid) =&gt; <a href="../base-4.10.1.0/Data-Eq.html#t:Eq">Eq</a> (<a href="GHC-PackageDb.html#t:InstalledPackageInfo">InstalledPackageInfo</a> compid srcpkgid srcpkgname instunitid unitid modulename mod)</span> <a href="#t:InstalledPackageInfo" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:InstalledPackageInfo:Eq:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="GHC-PackageDb.html#t:InstalledPackageInfo">InstalledPackageInfo</a> compid srcpkgid srcpkgname instunitid unitid modulename mod -&gt; <a href="GHC-PackageDb.html#t:InstalledPackageInfo">InstalledPackageInfo</a> compid srcpkgid srcpkgname instunitid unitid modulename mod -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="GHC-PackageDb.html#t:InstalledPackageInfo">InstalledPackageInfo</a> compid srcpkgid srcpkgname instunitid unitid modulename mod -&gt; <a href="GHC-PackageDb.html#t:InstalledPackageInfo">InstalledPackageInfo</a> compid srcpkgid srcpkgname instunitid unitid modulename mod -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:InstalledPackageInfo:Show:2" class="instance expander" onclick="toggleSection('i:id:InstalledPackageInfo:Show:2')"></span> (<a href="../base-4.10.1.0/Text-Show.html#t:Show">Show</a> srcpkgname, <a href="../base-4.10.1.0/Text-Show.html#t:Show">Show</a> srcpkgid, <a href="../base-4.10.1.0/Text-Show.html#t:Show">Show</a> mod, <a href="../base-4.10.1.0/Text-Show.html#t:Show">Show</a> modulename, <a href="../base-4.10.1.0/Text-Show.html#t:Show">Show</a> compid, <a href="../base-4.10.1.0/Text-Show.html#t:Show">Show</a> instunitid) =&gt; <a href="../base-4.10.1.0/Text-Show.html#t:Show">Show</a> (<a href="GHC-PackageDb.html#t:InstalledPackageInfo">InstalledPackageInfo</a> compid srcpkgid srcpkgname instunitid unitid modulename mod)</span> <a href="#t:InstalledPackageInfo" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:InstalledPackageInfo:Show:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.10.1.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="GHC-PackageDb.html#t:InstalledPackageInfo">InstalledPackageInfo</a> compid srcpkgid srcpkgname instunitid unitid modulename mod -&gt; <a href="../base-4.10.1.0/Text-Show.html#t:ShowS">ShowS</a> <a href="../base-4.10.1.0/src/GHC-Show.html#showsPrec" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="GHC-PackageDb.html#t:InstalledPackageInfo">InstalledPackageInfo</a> compid srcpkgid srcpkgname instunitid unitid modulename mod -&gt; <a href="../base-4.10.1.0/Data-String.html#t:String">String</a> <a href="../base-4.10.1.0/src/GHC-Show.html#show" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="GHC-PackageDb.html#t:InstalledPackageInfo">InstalledPackageInfo</a> compid srcpkgid srcpkgname instunitid unitid modulename mod] -&gt; <a href="../base-4.10.1.0/Text-Show.html#t:ShowS">ShowS</a> <a href="../base-4.10.1.0/src/GHC-Show.html#showList" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:InstalledPackageInfo:Binary:3" class="instance expander" onclick="toggleSection('i:id:InstalledPackageInfo:Binary:3')"></span> RepInstalledPackageInfo a b c d e f g =&gt; <a href="../binary-0.8.5.1/Data-Binary.html#t:Binary">Binary</a> (<a href="GHC-PackageDb.html#t:InstalledPackageInfo">InstalledPackageInfo</a> a b c d e f g)</span> <a href="#t:InstalledPackageInfo" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:InstalledPackageInfo:Binary:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:put">put</a> :: <a href="GHC-PackageDb.html#t:InstalledPackageInfo">InstalledPackageInfo</a> a b c d e f g -&gt; <a href="../binary-0.8.5.1/Data-Binary-Put.html#t:Put">Put</a> <a href="../binary-0.8.5.1/src/Data-Binary-Class.html#put" class="link">Source</a> <a href="#v:put" class="selflink">#</a></p><p class="src"><a href="#v:get">get</a> :: <a href="../binary-0.8.5.1/Data-Binary-Get-Internal.html#t:Get">Get</a> (<a href="GHC-PackageDb.html#t:InstalledPackageInfo">InstalledPackageInfo</a> a b c d e f g) <a href="../binary-0.8.5.1/src/Data-Binary-Class.html#get" class="link">Source</a> <a href="#v:get" class="selflink">#</a></p><p class="src"><a href="#v:putList">putList</a> :: [<a href="GHC-PackageDb.html#t:InstalledPackageInfo">InstalledPackageInfo</a> a b c d e f g] -&gt; <a href="../binary-0.8.5.1/Data-Binary-Put.html#t:Put">Put</a> <a href="../binary-0.8.5.1/src/Data-Binary-Class.html#putList" class="link">Source</a> <a href="#v:putList" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:DbModule" class="def">DbModule</a> instunitid compid unitid modulename mod <a href="src/GHC-PackageDb.html#DbModule" class="link">Source</a> <a href="#t:DbModule" class="selflink">#</a></p><div class="doc"><p><code>ghc-boot</code>'s copy of <code>Module</code>, i.e. what is serialized to the database.
 Use <code><a href="GHC-PackageDb.html#t:DbUnitIdModuleRep">DbUnitIdModuleRep</a></code> to convert it into an actual <code>Module</code>.
 It has phantom type parameters as this is the most convenient way
 to avoid undecidable instances.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:DbModule" class="def">DbModule</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:dbModuleUnitId" class="def">dbModuleUnitId</a> :: unitid</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:dbModuleName" class="def">dbModuleName</a> :: modulename</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr><tr><td class="src"><a id="v:DbModuleVar" class="def">DbModuleVar</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:dbModuleVarName" class="def">dbModuleVarName</a> :: modulename</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><p id="control.i:DbModule" class="caption collapser" onclick="toggleSection('i:DbModule')">Instances</p><div id="section.i:DbModule" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:DbModule:Eq:1" class="instance expander" onclick="toggleSection('i:id:DbModule:Eq:1')"></span> (<a href="../base-4.10.1.0/Data-Eq.html#t:Eq">Eq</a> modulename, <a href="../base-4.10.1.0/Data-Eq.html#t:Eq">Eq</a> unitid) =&gt; <a href="../base-4.10.1.0/Data-Eq.html#t:Eq">Eq</a> (<a href="GHC-PackageDb.html#t:DbModule">DbModule</a> instunitid compid unitid modulename mod)</span> <a href="#t:DbModule" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:DbModule:Eq:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="GHC-PackageDb.html#t:DbModule">DbModule</a> instunitid compid unitid modulename mod -&gt; <a href="GHC-PackageDb.html#t:DbModule">DbModule</a> instunitid compid unitid modulename mod -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="GHC-PackageDb.html#t:DbModule">DbModule</a> instunitid compid unitid modulename mod -&gt; <a href="GHC-PackageDb.html#t:DbModule">DbModule</a> instunitid compid unitid modulename mod -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:DbModule:Show:2" class="instance expander" onclick="toggleSection('i:id:DbModule:Show:2')"></span> (<a href="../base-4.10.1.0/Text-Show.html#t:Show">Show</a> modulename, <a href="../base-4.10.1.0/Text-Show.html#t:Show">Show</a> unitid) =&gt; <a href="../base-4.10.1.0/Text-Show.html#t:Show">Show</a> (<a href="GHC-PackageDb.html#t:DbModule">DbModule</a> instunitid compid unitid modulename mod)</span> <a href="#t:DbModule" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:DbModule:Show:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.10.1.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="GHC-PackageDb.html#t:DbModule">DbModule</a> instunitid compid unitid modulename mod -&gt; <a href="../base-4.10.1.0/Text-Show.html#t:ShowS">ShowS</a> <a href="../base-4.10.1.0/src/GHC-Show.html#showsPrec" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="GHC-PackageDb.html#t:DbModule">DbModule</a> instunitid compid unitid modulename mod -&gt; <a href="../base-4.10.1.0/Data-String.html#t:String">String</a> <a href="../base-4.10.1.0/src/GHC-Show.html#show" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="GHC-PackageDb.html#t:DbModule">DbModule</a> instunitid compid unitid modulename mod] -&gt; <a href="../base-4.10.1.0/Text-Show.html#t:ShowS">ShowS</a> <a href="../base-4.10.1.0/src/GHC-Show.html#showList" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:DbModule:Binary:3" class="instance expander" onclick="toggleSection('i:id:DbModule:Binary:3')"></span> (<a href="GHC-PackageDb.html#t:BinaryStringRep">BinaryStringRep</a> modulename, <a href="GHC-PackageDb.html#t:BinaryStringRep">BinaryStringRep</a> compid, <a href="GHC-PackageDb.html#t:BinaryStringRep">BinaryStringRep</a> instunitid, <a href="GHC-PackageDb.html#t:DbUnitIdModuleRep">DbUnitIdModuleRep</a> instunitid compid unitid modulename mod) =&gt; <a href="../binary-0.8.5.1/Data-Binary.html#t:Binary">Binary</a> (<a href="GHC-PackageDb.html#t:DbModule">DbModule</a> instunitid compid unitid modulename mod)</span> <a href="#t:DbModule" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:DbModule:Binary:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:put">put</a> :: <a href="GHC-PackageDb.html#t:DbModule">DbModule</a> instunitid compid unitid modulename mod -&gt; <a href="../binary-0.8.5.1/Data-Binary-Put.html#t:Put">Put</a> <a href="../binary-0.8.5.1/src/Data-Binary-Class.html#put" class="link">Source</a> <a href="#v:put" class="selflink">#</a></p><p class="src"><a href="#v:get">get</a> :: <a href="../binary-0.8.5.1/Data-Binary-Get-Internal.html#t:Get">Get</a> (<a href="GHC-PackageDb.html#t:DbModule">DbModule</a> instunitid compid unitid modulename mod) <a href="../binary-0.8.5.1/src/Data-Binary-Class.html#get" class="link">Source</a> <a href="#v:get" class="selflink">#</a></p><p class="src"><a href="#v:putList">putList</a> :: [<a href="GHC-PackageDb.html#t:DbModule">DbModule</a> instunitid compid unitid modulename mod] -&gt; <a href="../binary-0.8.5.1/Data-Binary-Put.html#t:Put">Put</a> <a href="../binary-0.8.5.1/src/Data-Binary-Class.html#putList" class="link">Source</a> <a href="#v:putList" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:DbUnitId" class="def">DbUnitId</a> instunitid compid unitid modulename mod <a href="src/GHC-PackageDb.html#DbUnitId" class="link">Source</a> <a href="#t:DbUnitId" class="selflink">#</a></p><div class="doc"><p><code>ghc-boot</code>'s copy of <code>UnitId</code>, i.e. what is serialized to the database.
 Use <code><a href="GHC-PackageDb.html#t:DbUnitIdModuleRep">DbUnitIdModuleRep</a></code> to convert it into an actual <code>UnitId</code>.
 It has phantom type parameters as this is the most convenient way
 to avoid undecidable instances.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:DbUnitId" class="def">DbUnitId</a> compid [(modulename, mod)]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:DbInstalledUnitId" class="def">DbInstalledUnitId</a> instunitid</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:DbUnitId" class="caption collapser" onclick="toggleSection('i:DbUnitId')">Instances</p><div id="section.i:DbUnitId" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:DbUnitId:Eq:1" class="instance expander" onclick="toggleSection('i:id:DbUnitId:Eq:1')"></span> (<a href="../base-4.10.1.0/Data-Eq.html#t:Eq">Eq</a> instunitid, <a href="../base-4.10.1.0/Data-Eq.html#t:Eq">Eq</a> mod, <a href="../base-4.10.1.0/Data-Eq.html#t:Eq">Eq</a> modulename, <a href="../base-4.10.1.0/Data-Eq.html#t:Eq">Eq</a> compid) =&gt; <a href="../base-4.10.1.0/Data-Eq.html#t:Eq">Eq</a> (<a href="GHC-PackageDb.html#t:DbUnitId">DbUnitId</a> instunitid compid unitid modulename mod)</span> <a href="#t:DbUnitId" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:DbUnitId:Eq:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="GHC-PackageDb.html#t:DbUnitId">DbUnitId</a> instunitid compid unitid modulename mod -&gt; <a href="GHC-PackageDb.html#t:DbUnitId">DbUnitId</a> instunitid compid unitid modulename mod -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="GHC-PackageDb.html#t:DbUnitId">DbUnitId</a> instunitid compid unitid modulename mod -&gt; <a href="GHC-PackageDb.html#t:DbUnitId">DbUnitId</a> instunitid compid unitid modulename mod -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:DbUnitId:Show:2" class="instance expander" onclick="toggleSection('i:id:DbUnitId:Show:2')"></span> (<a href="../base-4.10.1.0/Text-Show.html#t:Show">Show</a> instunitid, <a href="../base-4.10.1.0/Text-Show.html#t:Show">Show</a> mod, <a href="../base-4.10.1.0/Text-Show.html#t:Show">Show</a> modulename, <a href="../base-4.10.1.0/Text-Show.html#t:Show">Show</a> compid) =&gt; <a href="../base-4.10.1.0/Text-Show.html#t:Show">Show</a> (<a href="GHC-PackageDb.html#t:DbUnitId">DbUnitId</a> instunitid compid unitid modulename mod)</span> <a href="#t:DbUnitId" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:DbUnitId:Show:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.10.1.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="GHC-PackageDb.html#t:DbUnitId">DbUnitId</a> instunitid compid unitid modulename mod -&gt; <a href="../base-4.10.1.0/Text-Show.html#t:ShowS">ShowS</a> <a href="../base-4.10.1.0/src/GHC-Show.html#showsPrec" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="GHC-PackageDb.html#t:DbUnitId">DbUnitId</a> instunitid compid unitid modulename mod -&gt; <a href="../base-4.10.1.0/Data-String.html#t:String">String</a> <a href="../base-4.10.1.0/src/GHC-Show.html#show" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="GHC-PackageDb.html#t:DbUnitId">DbUnitId</a> instunitid compid unitid modulename mod] -&gt; <a href="../base-4.10.1.0/Text-Show.html#t:ShowS">ShowS</a> <a href="../base-4.10.1.0/src/GHC-Show.html#showList" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:DbUnitId:Binary:3" class="instance expander" onclick="toggleSection('i:id:DbUnitId:Binary:3')"></span> (<a href="GHC-PackageDb.html#t:BinaryStringRep">BinaryStringRep</a> modulename, <a href="GHC-PackageDb.html#t:BinaryStringRep">BinaryStringRep</a> compid, <a href="GHC-PackageDb.html#t:BinaryStringRep">BinaryStringRep</a> instunitid, <a href="GHC-PackageDb.html#t:DbUnitIdModuleRep">DbUnitIdModuleRep</a> instunitid compid unitid modulename mod) =&gt; <a href="../binary-0.8.5.1/Data-Binary.html#t:Binary">Binary</a> (<a href="GHC-PackageDb.html#t:DbUnitId">DbUnitId</a> instunitid compid unitid modulename mod)</span> <a href="#t:DbUnitId" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:DbUnitId:Binary:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:put">put</a> :: <a href="GHC-PackageDb.html#t:DbUnitId">DbUnitId</a> instunitid compid unitid modulename mod -&gt; <a href="../binary-0.8.5.1/Data-Binary-Put.html#t:Put">Put</a> <a href="../binary-0.8.5.1/src/Data-Binary-Class.html#put" class="link">Source</a> <a href="#v:put" class="selflink">#</a></p><p class="src"><a href="#v:get">get</a> :: <a href="../binary-0.8.5.1/Data-Binary-Get-Internal.html#t:Get">Get</a> (<a href="GHC-PackageDb.html#t:DbUnitId">DbUnitId</a> instunitid compid unitid modulename mod) <a href="../binary-0.8.5.1/src/Data-Binary-Class.html#get" class="link">Source</a> <a href="#v:get" class="selflink">#</a></p><p class="src"><a href="#v:putList">putList</a> :: [<a href="GHC-PackageDb.html#t:DbUnitId">DbUnitId</a> instunitid compid unitid modulename mod] -&gt; <a href="../binary-0.8.5.1/Data-Binary-Put.html#t:Put">Put</a> <a href="../binary-0.8.5.1/src/Data-Binary-Class.html#putList" class="link">Source</a> <a href="#v:putList" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:BinaryStringRep" class="def">BinaryStringRep</a> a <span class="keyword">where</span> <a href="src/GHC-PackageDb.html#BinaryStringRep" class="link">Source</a> <a href="#t:BinaryStringRep" class="selflink">#</a></p><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="GHC-PackageDb.html#v:fromStringRep">fromStringRep</a>, <a href="GHC-PackageDb.html#v:toStringRep">toStringRep</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:fromStringRep" class="def">fromStringRep</a> :: <a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; a <a href="src/GHC-PackageDb.html#fromStringRep" class="link">Source</a> <a href="#v:fromStringRep" class="selflink">#</a></p><p class="src"><a id="v:toStringRep" class="def">toStringRep</a> :: a -&gt; <a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString">ByteString</a> <a href="src/GHC-PackageDb.html#toStringRep" class="link">Source</a> <a href="#v:toStringRep" class="selflink">#</a></p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:DbUnitIdModuleRep" class="def">DbUnitIdModuleRep</a> instunitid compid unitid modulename mod | mod -&gt; unitid, unitid -&gt; mod, mod -&gt; modulename, unitid -&gt; compid, unitid -&gt; instunitid <span class="keyword">where</span> <a href="src/GHC-PackageDb.html#DbUnitIdModuleRep" class="link">Source</a> <a href="#t:DbUnitIdModuleRep" class="selflink">#</a></p><div class="doc"><p>A type-class for the types which can be converted into 'DbModule'/'DbUnitId'.
 There is only one type class because these types are mutually recursive.
 NB: The functional dependency helps out type inference in cases
 where types would be ambiguous.</p></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="GHC-PackageDb.html#v:fromDbModule">fromDbModule</a>, <a href="GHC-PackageDb.html#v:toDbModule">toDbModule</a>, <a href="GHC-PackageDb.html#v:fromDbUnitId">fromDbUnitId</a>, <a href="GHC-PackageDb.html#v:toDbUnitId">toDbUnitId</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:fromDbModule" class="def">fromDbModule</a> :: <a href="GHC-PackageDb.html#t:DbModule">DbModule</a> instunitid compid unitid modulename mod -&gt; mod <a href="src/GHC-PackageDb.html#fromDbModule" class="link">Source</a> <a href="#v:fromDbModule" class="selflink">#</a></p><p class="src"><a id="v:toDbModule" class="def">toDbModule</a> :: mod -&gt; <a href="GHC-PackageDb.html#t:DbModule">DbModule</a> instunitid compid unitid modulename mod <a href="src/GHC-PackageDb.html#toDbModule" class="link">Source</a> <a href="#v:toDbModule" class="selflink">#</a></p><p class="src"><a id="v:fromDbUnitId" class="def">fromDbUnitId</a> :: <a href="GHC-PackageDb.html#t:DbUnitId">DbUnitId</a> instunitid compid unitid modulename mod -&gt; unitid <a href="src/GHC-PackageDb.html#fromDbUnitId" class="link">Source</a> <a href="#v:fromDbUnitId" class="selflink">#</a></p><p class="src"><a id="v:toDbUnitId" class="def">toDbUnitId</a> :: unitid -&gt; <a href="GHC-PackageDb.html#t:DbUnitId">DbUnitId</a> instunitid compid unitid modulename mod <a href="src/GHC-PackageDb.html#toDbUnitId" class="link">Source</a> <a href="#v:toDbUnitId" class="selflink">#</a></p></div></div><div class="top"><p class="src"><a id="v:emptyInstalledPackageInfo" class="def">emptyInstalledPackageInfo</a> :: RepInstalledPackageInfo a b c d e f g =&gt; <a href="GHC-PackageDb.html#t:InstalledPackageInfo">InstalledPackageInfo</a> a b c d e f g <a href="src/GHC-PackageDb.html#emptyInstalledPackageInfo" class="link">Source</a> <a href="#v:emptyInstalledPackageInfo" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:PackageDbLock" class="def">PackageDbLock</a> <a href="src/GHC-PackageDb.html#PackageDbLock" class="link">Source</a> <a href="#t:PackageDbLock" class="selflink">#</a></p><div class="doc"><p>Represents a lock of a package db.</p></div></div><div class="top"><p class="src"><a id="v:lockPackageDb" class="def">lockPackageDb</a> :: <a href="../base-4.10.1.0/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> <a href="GHC-PackageDb.html#t:PackageDbLock">PackageDbLock</a> <a href="src/GHC-PackageDb.html#lockPackageDb" class="link">Source</a> <a href="#v:lockPackageDb" class="selflink">#</a></p><div class="doc"><p>Acquire an exclusive lock related to package DB under given location.</p></div></div><div class="top"><p class="src"><a id="v:unlockPackageDb" class="def">unlockPackageDb</a> :: <a href="GHC-PackageDb.html#t:PackageDbLock">PackageDbLock</a> -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> () <a href="src/GHC-PackageDb.html#unlockPackageDb" class="link">Source</a> <a href="#v:unlockPackageDb" class="selflink">#</a></p><div class="doc"><p>Release the lock related to package DB.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:DbMode" class="def">DbMode</a> <a href="src/GHC-PackageDb.html#DbMode" class="link">Source</a> <a href="#t:DbMode" class="selflink">#</a></p><div class="doc"><p>Mode to open a package db in.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:DbReadOnly" class="def">DbReadOnly</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:DbReadWrite" class="def">DbReadWrite</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:DbOpenMode" class="def">DbOpenMode</a> (mode :: <a href="GHC-PackageDb.html#t:DbMode">DbMode</a>) t <span class="keyword">where</span> <a href="src/GHC-PackageDb.html#DbOpenMode" class="link">Source</a> <a href="#t:DbOpenMode" class="selflink">#</a></p><div class="doc"><p><code><a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a></code> holds a value of type <code>t</code> but only in <code><a href="GHC-PackageDb.html#v:DbReadWrite">DbReadWrite</a></code> mode.  So
 it is like <code><a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a></code> but with a type argument for the mode to enforce that the
 mode is used consistently.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:DbOpenReadOnly" class="def">DbOpenReadOnly</a> :: <a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a> <a href="GHC-PackageDb.html#v:DbReadOnly">DbReadOnly</a> t</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:DbOpenReadWrite" class="def">DbOpenReadWrite</a> :: t -&gt; <a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a> <a href="GHC-PackageDb.html#v:DbReadWrite">DbReadWrite</a> t</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:DbOpenMode" class="caption collapser" onclick="toggleSection('i:DbOpenMode')">Instances</p><div id="section.i:DbOpenMode" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:DbOpenMode:Functor:1" class="instance expander" onclick="toggleSection('i:id:DbOpenMode:Functor:1')"></span> <a href="../base-4.10.1.0/Data-Functor.html#t:Functor">Functor</a> (<a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a> mode)</span> <a href="#t:DbOpenMode" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:DbOpenMode:Functor:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a> mode a -&gt; <a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a> mode b <a href="../base-4.10.1.0/src/GHC-Base.html#fmap" class="link">Source</a> <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a> mode b -&gt; <a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a> mode a <a href="../base-4.10.1.0/src/GHC-Base.html#%3C%24" class="link">Source</a> <a href="#v:-60--36-" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:DbOpenMode:Foldable:2" class="instance expander" onclick="toggleSection('i:id:DbOpenMode:Foldable:2')"></span> <a href="../base-4.10.1.0/Data-Foldable.html#t:Foldable">Foldable</a> (<a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a> mode)</span> <a href="#t:DbOpenMode" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:DbOpenMode:Foldable:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fold">fold</a> :: <a href="../base-4.10.1.0/Data-Monoid.html#t:Monoid">Monoid</a> m =&gt; <a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a> mode m -&gt; m <a href="../base-4.10.1.0/src/Data-Foldable.html#fold" class="link">Source</a> <a href="#v:fold" class="selflink">#</a></p><p class="src"><a href="#v:foldMap">foldMap</a> :: <a href="../base-4.10.1.0/Data-Monoid.html#t:Monoid">Monoid</a> m =&gt; (a -&gt; m) -&gt; <a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a> mode a -&gt; m <a href="../base-4.10.1.0/src/Data-Foldable.html#foldMap" class="link">Source</a> <a href="#v:foldMap" class="selflink">#</a></p><p class="src"><a href="#v:foldr">foldr</a> :: (a -&gt; b -&gt; b) -&gt; b -&gt; <a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a> mode a -&gt; b <a href="../base-4.10.1.0/src/Data-Foldable.html#foldr" class="link">Source</a> <a href="#v:foldr" class="selflink">#</a></p><p class="src"><a href="#v:foldr-39-">foldr'</a> :: (a -&gt; b -&gt; b) -&gt; b -&gt; <a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a> mode a -&gt; b <a href="../base-4.10.1.0/src/Data-Foldable.html#foldr%27" class="link">Source</a> <a href="#v:foldr-39-" class="selflink">#</a></p><p class="src"><a href="#v:foldl">foldl</a> :: (b -&gt; a -&gt; b) -&gt; b -&gt; <a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a> mode a -&gt; b <a href="../base-4.10.1.0/src/Data-Foldable.html#foldl" class="link">Source</a> <a href="#v:foldl" class="selflink">#</a></p><p class="src"><a href="#v:foldl-39-">foldl'</a> :: (b -&gt; a -&gt; b) -&gt; b -&gt; <a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a> mode a -&gt; b <a href="../base-4.10.1.0/src/Data-Foldable.html#foldl%27" class="link">Source</a> <a href="#v:foldl-39-" class="selflink">#</a></p><p class="src"><a href="#v:foldr1">foldr1</a> :: (a -&gt; a -&gt; a) -&gt; <a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a> mode a -&gt; a <a href="../base-4.10.1.0/src/Data-Foldable.html#foldr1" class="link">Source</a> <a href="#v:foldr1" class="selflink">#</a></p><p class="src"><a href="#v:foldl1">foldl1</a> :: (a -&gt; a -&gt; a) -&gt; <a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a> mode a -&gt; a <a href="../base-4.10.1.0/src/Data-Foldable.html#foldl1" class="link">Source</a> <a href="#v:foldl1" class="selflink">#</a></p><p class="src"><a href="#v:toList">toList</a> :: <a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a> mode a -&gt; [a] <a href="../base-4.10.1.0/src/Data-Foldable.html#toList" class="link">Source</a> <a href="#v:toList" class="selflink">#</a></p><p class="src"><a href="#v:null">null</a> :: <a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a> mode a -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="../base-4.10.1.0/src/Data-Foldable.html#null" class="link">Source</a> <a href="#v:null" class="selflink">#</a></p><p class="src"><a href="#v:length">length</a> :: <a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a> mode a -&gt; <a href="../base-4.10.1.0/Data-Int.html#t:Int">Int</a> <a href="../base-4.10.1.0/src/Data-Foldable.html#length" class="link">Source</a> <a href="#v:length" class="selflink">#</a></p><p class="src"><a href="#v:elem">elem</a> :: <a href="../base-4.10.1.0/Data-Eq.html#t:Eq">Eq</a> a =&gt; a -&gt; <a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a> mode a -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="../base-4.10.1.0/src/Data-Foldable.html#elem" class="link">Source</a> <a href="#v:elem" class="selflink">#</a></p><p class="src"><a href="#v:maximum">maximum</a> :: <a href="../base-4.10.1.0/Data-Ord.html#t:Ord">Ord</a> a =&gt; <a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a> mode a -&gt; a <a href="../base-4.10.1.0/src/Data-Foldable.html#maximum" class="link">Source</a> <a href="#v:maximum" class="selflink">#</a></p><p class="src"><a href="#v:minimum">minimum</a> :: <a href="../base-4.10.1.0/Data-Ord.html#t:Ord">Ord</a> a =&gt; <a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a> mode a -&gt; a <a href="../base-4.10.1.0/src/Data-Foldable.html#minimum" class="link">Source</a> <a href="#v:minimum" class="selflink">#</a></p><p class="src"><a href="#v:sum">sum</a> :: <a href="../base-4.10.1.0/Prelude.html#t:Num">Num</a> a =&gt; <a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a> mode a -&gt; a <a href="../base-4.10.1.0/src/Data-Foldable.html#sum" class="link">Source</a> <a href="#v:sum" class="selflink">#</a></p><p class="src"><a href="#v:product">product</a> :: <a href="../base-4.10.1.0/Prelude.html#t:Num">Num</a> a =&gt; <a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a> mode a -&gt; a <a href="../base-4.10.1.0/src/Data-Foldable.html#product" class="link">Source</a> <a href="#v:product" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:DbOpenMode:Traversable:3" class="instance expander" onclick="toggleSection('i:id:DbOpenMode:Traversable:3')"></span> <a href="../base-4.10.1.0/Data-Traversable.html#t:Traversable">Traversable</a> (<a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a> mode)</span> <a href="#t:DbOpenMode" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:DbOpenMode:Traversable:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:traverse">traverse</a> :: <a href="../base-4.10.1.0/Control-Applicative.html#t:Applicative">Applicative</a> f =&gt; (a -&gt; f b) -&gt; <a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a> mode a -&gt; f (<a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a> mode b) <a href="../base-4.10.1.0/src/Data-Traversable.html#traverse" class="link">Source</a> <a href="#v:traverse" class="selflink">#</a></p><p class="src"><a href="#v:sequenceA">sequenceA</a> :: <a href="../base-4.10.1.0/Control-Applicative.html#t:Applicative">Applicative</a> f =&gt; <a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a> mode (f a) -&gt; f (<a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a> mode a) <a href="../base-4.10.1.0/src/Data-Traversable.html#sequenceA" class="link">Source</a> <a href="#v:sequenceA" class="selflink">#</a></p><p class="src"><a href="#v:mapM">mapM</a> :: <a href="../base-4.10.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (a -&gt; m b) -&gt; <a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a> mode a -&gt; m (<a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a> mode b) <a href="../base-4.10.1.0/src/Data-Traversable.html#mapM" class="link">Source</a> <a href="#v:mapM" class="selflink">#</a></p><p class="src"><a href="#v:sequence">sequence</a> :: <a href="../base-4.10.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a> mode (m a) -&gt; m (<a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a> mode a) <a href="../base-4.10.1.0/src/Data-Traversable.html#sequence" class="link">Source</a> <a href="#v:sequence" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:isDbOpenReadMode" class="def">isDbOpenReadMode</a> :: <a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a> mode t -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/GHC-PackageDb.html#isDbOpenReadMode" class="link">Source</a> <a href="#v:isDbOpenReadMode" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:readPackageDbForGhc" class="def">readPackageDbForGhc</a> :: RepInstalledPackageInfo a b c d e f g =&gt; <a href="../base-4.10.1.0/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> [<a href="GHC-PackageDb.html#t:InstalledPackageInfo">InstalledPackageInfo</a> a b c d e f g] <a href="src/GHC-PackageDb.html#readPackageDbForGhc" class="link">Source</a> <a href="#v:readPackageDbForGhc" class="selflink">#</a></p><div class="doc"><p>Read the part of the package DB that GHC is interested in.</p></div></div><div class="top"><p class="src"><a id="v:readPackageDbForGhcPkg" class="def">readPackageDbForGhcPkg</a> :: <a href="../binary-0.8.5.1/Data-Binary.html#t:Binary">Binary</a> pkgs =&gt; <a href="../base-4.10.1.0/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a> mode t -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> (pkgs, <a href="GHC-PackageDb.html#t:DbOpenMode">DbOpenMode</a> mode <a href="GHC-PackageDb.html#t:PackageDbLock">PackageDbLock</a>) <a href="src/GHC-PackageDb.html#readPackageDbForGhcPkg" class="link">Source</a> <a href="#v:readPackageDbForGhcPkg" class="selflink">#</a></p><div class="doc"><p>Read the part of the package DB that ghc-pkg is interested in</p><p>Note that the Binary instance for ghc-pkg's representation of packages
 is not defined in this package. This is because ghc-pkg uses Cabal types
 (and Binary instances for these) which this package does not depend on.</p><p>If we open the package db in read only mode, we get its contents. Otherwise
 we additionally receive a PackageDbLock that represents a lock on the
 database, so that we can safely update it later.</p></div></div><div class="top"><p class="src"><a id="v:writePackageDb" class="def">writePackageDb</a> :: (<a href="../binary-0.8.5.1/Data-Binary.html#t:Binary">Binary</a> pkgs, RepInstalledPackageInfo a b c d e f g) =&gt; <a href="../base-4.10.1.0/System-IO.html#t:FilePath">FilePath</a> -&gt; [<a href="GHC-PackageDb.html#t:InstalledPackageInfo">InstalledPackageInfo</a> a b c d e f g] -&gt; pkgs -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> () <a href="src/GHC-PackageDb.html#writePackageDb" class="link">Source</a> <a href="#v:writePackageDb" class="selflink">#</a></p><div class="doc"><p>Write the whole of the package DB, both parts.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.18.1</p></div></body></html>